window.series={path:{}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var a=-1;for(var b=0;b<this.length;b++){if(c===this[b]){a=b;break}}return a};Array.prototype.lastIndexOf=function(c){var a=-1;for(var b=this.length-1;b>-1;b--){if(c===this[b]){a=b;break}}return a}}if(!Array.prototype.forEach){Array.prototype.forEach=function(b){for(var a=0;a<this.length;a++){if(typeof b==="function"){b.call(this,this[a],a)}}}}if(!Array.prototype.filter){Array.prototype.filter=function(c){if(this===void 0||this===null){throw new TypeError()}var f=Object(this);var a=f.length>>>0;if(typeof c!=="function"){throw new TypeError()}var e=[];var b=arguments.length>=2?arguments[1]:void 0;for(var d=0;d<a;d++){if(d in f){var g=f[d];if(c.call(b,g,d,f)){e.push(g)}}}return e}}if(!String.prototype.trim){String.prototype.trim=function(){var a=this;if(a&&a.length>0){a=a.replace(/^\s+/,"");if(a&&a.length>0){a=a.replace(/\s+$/,"")}}return a}}var Class;if(typeof JSON==="undefined"){var JSON=new Object()}series.methods=["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"];(function(){var w=this;var m=w._;var J=Array.prototype,g=Object.prototype,p=Function.prototype;var M=J.push,n=J.slice,c=g.toString,l=g.hasOwnProperty;var u=Array.isArray,e=Object.keys,K=p.bind,C=Object.create;var F=function(){};var O=function(P){if(P instanceof O){return P}if(!(this instanceof O)){return new O(P)}this._wrapped=P};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=O}exports._=O}else{w._=O}O.VERSION="1.7.0";var b=function(Q,P,R){if(P===void 0){return Q}switch(R==null?3:R){case 1:return function(S){return Q.call(P,S)};case 2:return function(T,S){return Q.call(P,T,S)};case 3:return function(T,S,U){return Q.call(P,T,S,U)};case 4:return function(S,U,T,V){return Q.call(P,S,U,T,V)}}return function(){return Q.apply(P,arguments)}};var G=function(Q,P,R){if(Q==null){return O.identity}if(O.isFunction(Q)){return b(Q,P,R)}if(O.isObject(Q)){return O.matches(Q)}return O.property(Q)};O.iteratee=function(Q,P){return G(Q,P,Infinity)};var r=function(Q,P){return function(Y){var W=arguments.length;if(W<2||Y==null){return Y}for(var S=1;S<W;S++){var X=arguments[S],V=Q(X),R=V.length;for(var U=0;U<R;U++){var T=V[U];if(!P||Y[T]===void 0){Y[T]=X[T]}}}return Y}};var D=function(Q){if(!O.isObject(Q)){return{}}if(C){return C(Q)}F.prototype=Q;var P=new F;F.prototype=null;return P};var L=Math.pow(2,53)-1;var E=function(Q){var P=Q&&Q.length;return typeof P=="number"&&P>=0&&P<=L};O.each=O.forEach=function(T,U,Q){if(T==null){return T}U=b(U,Q);var P,S=T.length;if(E(T)){for(P=0;P<S;P++){U(T[P],P,T)}}else{var R=O.keys(T);for(P=0,S=R.length;P<S;P++){U(T[R[P]],R[P],T)}}return T};O.map=O.collect=function(U,W,R){if(U==null){return[]}W=G(W,R);var T=!E(U)&&O.keys(U),S=(T||U).length,Q=Array(S),V;for(var P=0;P<S;P++){V=T?T[P]:P;Q[P]=W(U[V],V,U)}return Q};function A(P){function Q(V,X,R,U,S,T){for(;S>=0&&S<T;S+=P){var W=U?U[S]:S;R=X(R,V[W],W,V)}return R}return function(W,X,R,T){if(W==null){return R}X=b(X,T,4);var V=!E(W)&&O.keys(W),U=(V||W).length,S=P>0?0:U-1;if(arguments.length<3){R=W[V?V[S]:S];S+=P}return Q(W,X,R,V,S,U)}}O.reduce=O.foldl=O.inject=A(1);O.reduceRight=O.foldr=A(-1);O.transform=function(T,U,S,P){if(S==null){if(O.isArray(T)){S=[]}else{if(O.isObject(T)){var R=T.constructor;S=D(typeof R=="function"&&R.prototype)}else{S={}}}}if(T==null){return S}U=b(U,P,4);var X=T.length!==+T.length&&O.keys(T),Q=(X||T).length,V,W;for(V=0;V<Q;V++){W=X?X[V]:V;if(U(S,T[W],W,T)===false){break}}return S};O.find=O.detect=function(S,P,R){var Q;if(E(S)){Q=O.findIndex(S,P,R)}else{Q=O.findKey(S,P,R)}if(Q!==void 0&&Q!==-1){return S[Q]}};O.filter=O.select=function(S,P,R){var Q=[];if(S==null){return Q}P=G(P,R);O.each(S,function(V,T,U){if(P(V,T,U)){Q.push(V)}});return Q};O.reject=function(R,P,Q){return O.filter(R,O.negate(G(P)),Q)};O.every=O.all=function(U,P,R){if(U==null){return true}P=G(P,R);var T=!E(U)&&O.keys(U),S=(T||U).length,Q,V;for(Q=0;Q<S;Q++){V=T?T[Q]:Q;if(!P(U[V],V,U)){return false}}return true};O.some=O.any=function(U,P,R){if(U==null){return false}P=G(P,R);var T=!E(U)&&O.keys(U),S=(T||U).length,Q,V;for(Q=0;Q<S;Q++){V=T?T[Q]:Q;if(P(U[V],V,U)){return true}}return false};O.contains=O.includes=O.include=function(R,Q,P){if(R==null){return false}if(!E(R)){R=O.values(R)}return O.indexOf(R,Q,typeof P=="number"&&P)>=0};O.invoke=function(R,S){var P=n.call(arguments,2);var Q=O.isFunction(S);return O.map(R,function(U){var T=Q?S:U[S];return T==null?T:T.apply(U,P)})};O.pluck=function(Q,P){return O.map(Q,O.property(P))};O.where=function(Q,P){return O.filter(Q,O.matches(P))};O.findWhere=function(Q,P){return O.find(Q,O.matches(P))};O.max=function(S,U,P){var X=-Infinity,V=-Infinity,W,R;if(U==null&&S!=null){S=E(S)?S:O.values(S);for(var T=0,Q=S.length;T<Q;T++){W=S[T];if(W>X){X=W}}}else{U=G(U,P);O.each(S,function(aa,Y,Z){R=U(aa,Y,Z);if(R>V||R===-Infinity&&X===-Infinity){X=aa;V=R}})}return X};O.min=function(S,U,P){var X=Infinity,V=Infinity,W,R;if(U==null&&S!=null){S=E(S)?S:O.values(S);for(var T=0,Q=S.length;T<Q;T++){W=S[T];if(W<X){X=W}}}else{U=G(U,P);O.each(S,function(aa,Y,Z){R=U(aa,Y,Z);if(R<V||R===Infinity&&X===Infinity){X=aa;V=R}})}return X};O.shuffle=function(T){var U=E(T)?T:O.values(T);var S=U.length;var P=Array(S);for(var Q=0,R;Q<S;Q++){R=O.random(0,Q);if(R!==Q){P[Q]=P[R]}P[R]=U[Q]}return P};O.sample=function(Q,R,P){if(R==null||P){if(!E(Q)){Q=O.values(Q)}return Q[O.random(Q.length-1)]}return O.shuffle(Q).slice(0,Math.max(0,R))};O.sortBy=function(Q,R,P){R=G(R,P);return O.pluck(O.map(Q,function(U,S,T){return{value:U,index:S,criteria:R(U,S,T)}}).sort(function(V,U){var T=V.criteria;var S=U.criteria;if(T!==S){if(T>S||T===void 0){return 1}if(T<S||S===void 0){return -1}}return V.index-U.index}),"value")};var s=function(P){return function(S,T,R){var Q={};T=G(T,R);O.each(S,function(W,U){var V=T(W,U,S);P(Q,W,V)});return Q}};O.groupBy=s(function(P,R,Q){if(O.has(P,Q)){P[Q].push(R)}else{P[Q]=[R]}});O.indexBy=s(function(P,R,Q){P[Q]=R});O.countBy=s(function(P,R,Q){if(O.has(P,Q)){P[Q]++}else{P[Q]=1}});O.toArray=function(P){if(!P){return[]}if(O.isArray(P)){return n.call(P)}if(E(P)){return O.map(P,O.identity)}return O.values(P)};O.size=function(P){if(P==null){return 0}return E(P)?P.length:O.keys(P).length};O.partition=function(T,P,R){P=G(P,R);var S=[],Q=[];O.each(T,function(V,U,W){(P(V,U,W)?S:Q).push(V)});return[S,Q]};O.first=O.head=O.take=function(R,Q,P){if(R==null){return void 0}if(Q==null||P){return R[0]}return O.initial(R,R.length-Q)};O.initial=function(R,Q,P){return n.call(R,0,Math.max(0,R.length-(Q==null||P?1:Q)))};O.last=function(R,Q,P){if(R==null){return void 0}if(Q==null||P){return R[R.length-1]}return O.rest(R,Math.max(0,R.length-Q))};O.rest=O.tail=O.drop=function(R,Q,P){return n.call(R,Q==null||P?1:Q)};O.compact=function(P){return O.filter(P,O.identity)};var x=function(V,R,W,Z){var Q=[],Y=0,X;for(var T=Z||0,P=V&&V.length;T<P;T++){X=V[T];if(E(X)&&(O.isArray(X)||O.isArguments(X))){if(!R){X=x(X,R,W)}var S=0,U=X.length;Q.length+=U;while(S<U){Q[Y++]=X[S++]}}else{if(!W){Q[Y++]=X}}}return Q};O.flatten=function(Q,P){return x(Q,P,false)};O.without=function(P){return O.difference(P,n.call(arguments,1))};O.uniq=O.unique=function(W,S,V,Q){if(W==null){return[]}if(!O.isBoolean(S)){Q=V;V=S;S=false}if(V!=null){V=G(V,Q)}var Y=[];var P=[];for(var U=0,R=W.length;U<R;U++){var X=W[U],T=V?V(X,U,W):X;if(S){if(!U||P!==T){Y.push(X)}P=T}else{if(V){if(!O.contains(P,T)){P.push(T);Y.push(X)}}else{if(!O.contains(Y,X)){Y.push(X)}}}}return Y};O.union=function(){return O.uniq(x(arguments,true,true))};O.intersection=function(V){if(V==null){return[]}var P=[];var U=arguments.length;for(var R=0,T=V.length;R<T;R++){var S=V[R];if(O.contains(P,S)){continue}for(var Q=1;Q<U;Q++){if(!O.contains(arguments[Q],S)){break}}if(Q===U){P.push(S)}}return P};O.difference=function(Q){var P=x(arguments,true,true,1);return O.filter(Q,function(R){return !O.contains(P,R)})};O.zip=function(){return O.unzip(arguments)};O.unzip=function(S){var R=S&&O.max(S,"length").length||0;var P=Array(R);for(var Q=0;Q<R;Q++){P[Q]=O.pluck(S,Q)}return P};O.object=function(T,Q){if(T==null){return{}}var P={};for(var R=0,S=T.length;R<S;R++){if(Q){P[T[R]]=Q[R]}else{P[T[R][0]]=T[R][1]}}return P};O.indexOf=function(T,R,S){var P=0,Q=T&&T.length;if(typeof S=="number"){P=S<0?Math.max(0,Q+S):S}else{if(S&&Q){P=O.sortedIndex(T,R);return T[P]===R?P:-1}}if(R!==R){return O.findIndex(n.call(T,P),O.isNaN)}for(;P<Q;P++){if(T[P]===R){return P}}return -1};O.lastIndexOf=function(S,Q,R){var P=S?S.length:0;if(typeof R=="number"){P=R<0?P+R+1:Math.min(P,R+1)}if(Q!==Q){return O.findLastIndex(n.call(S,0,P),O.isNaN)}while(--P>=0){if(S[P]===Q){return P}}return -1};function f(P){return function(U,Q,S){Q=G(Q,S);var T=U!=null&&U.length;var R=P>0?0:T-1;for(;R>=0&&R<T;R+=P){if(Q(U[R],R,U)){return R}}return -1}}O.findIndex=f(1);O.findLastIndex=f(-1);O.sortedIndex=function(W,U,V,R){V=G(V,R,1);var T=V(U);var P=0,S=W.length;while(P<S){var Q=Math.floor((P+S)/2);if(V(W[Q])<T){P=Q+1}else{S=Q}}return P};O.range=function(U,R,T){if(arguments.length<=1){R=U||0;U=0}T=T||1;var S=Math.max(Math.ceil((R-U)/T),0);var Q=Array(S);for(var P=0;P<S;P++,U+=T){Q[P]=U}return Q};var z=function(U,R,T,V,S){if(!(V instanceof R)){return U.apply(T,S)}var Q=D(U.prototype);var P=U.apply(Q,S);if(O.isObject(P)){return P}return Q};O.bind=function(S,Q){if(K&&S.bind===K){return K.apply(S,n.call(arguments,1))}if(!O.isFunction(S)){throw new TypeError("Bind must be called on a function")}var P=n.call(arguments,2);return function R(){return z(S,R,Q,this,P.concat(n.call(arguments)))}};O.partial=function(Q){var R=n.call(arguments,1);return function P(){var S=0,V=R.length;var T=Array(V);for(var U=0;U<V;U++){T[U]=R[U]===O?arguments[S++]:R[U]}while(S<arguments.length){T.push(arguments[S++])}return z(Q,P,this,this,T)}};O.bindAll=function(S){var Q,R=arguments.length,P;if(R<=1){throw new Error("bindAll must be passed function names")}for(Q=1;Q<R;Q++){P=arguments[Q];S[P]=O.bind(S[P],S)}return S};O.memoize=function(Q,P){var R=function(U){var T=R.cache;var S=""+(P?P.apply(this,arguments):U);if(!O.has(T,S)){T[S]=Q.apply(this,arguments)}return T[S]};R.cache={};return R};O.delay=function(Q,R){var P=n.call(arguments,2);return setTimeout(function(){return Q.apply(null,P)},R)};O.defer=O.partial(O.delay,O,1);O.throttle=function(Q,S,W){var P,U,X;var V=null;var T=0;if(!W){W={}}var R=function(){T=W.leading===false?0:O.now();V=null;X=Q.apply(P,U);if(!V){P=U=null}};return function(){var Y=O.now();if(!T&&W.leading===false){T=Y}var Z=S-(Y-T);P=this;U=arguments;if(Z<=0||Z>S){if(V){clearTimeout(V);V=null}T=Y;X=Q.apply(P,U);if(!V){P=U=null}}else{if(!V&&W.trailing!==false){V=setTimeout(R,Z)}}return X}};O.debounce=function(R,T,Q){var W,V,P,U,X;var S=function(){var Y=O.now()-U;if(Y<T&&Y>=0){W=setTimeout(S,T-Y)}else{W=null;if(!Q){X=R.apply(P,V);if(!W){P=V=null}}}};return function(){P=this;V=arguments;U=O.now();var Y=Q&&!W;if(!W){W=setTimeout(S,T)}if(Y){X=R.apply(P,V);P=V=null}return X}};O.wrap=function(P,Q){return O.partial(Q,P)};O.negate=function(P){return function(){return !P.apply(this,arguments)}};O.compose=function(){var P=arguments;var Q=P.length-1;return function(){var S=Q;var R=P[Q].apply(this,arguments);while(S--){R=P[S].call(this,R)}return R}};O.after=function(Q,P){return function(){if(--Q<1){return P.apply(this,arguments)}}};O.before=function(R,Q){var P;return function(){if(--R>0){P=Q.apply(this,arguments)}if(R<=1){Q=null}return P}};O.once=O.partial(O.before,2);var H=!{toString:null}.propertyIsEnumerable("toString")&&typeof window!="undefined";var a=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function d(S,R){var P=a.length;var Q=typeof S.constructor==="function"?p:g;while(P--){var T=a[P];if(T==="constructor"?O.has(S,T):T in S&&S[T]!==Q[T]&&!O.contains(R,T)){R.push(T)}}}O.keys=function(R){if(!O.isObject(R)){return[]}if(e){return e(R)}var Q=[];for(var P in R){if(O.has(R,P)){Q.push(P)}}if(H){d(R,Q)}return Q};O.keysIn=function(R){if(!O.isObject(R)){return[]}var Q=[];for(var P in R){Q.push(P)}if(H){d(R,Q)}return Q};O.values=function(T){var S=O.keys(T);var R=S.length;var P=Array(R);for(var Q=0;Q<R;Q++){P[Q]=T[S[Q]]}return P};O.pairs=function(T){var R=O.keys(T);var Q=R.length;var S=Array(Q);for(var P=0;P<Q;P++){S[P]=[R[P],T[R[P]]]}return S};O.invert=function(T){var P={};var S=O.keys(T);for(var Q=0,R=S.length;Q<R;Q++){P[T[S[Q]]]=S[Q]}return P};O.functions=O.methods=function(R){var Q=[];for(var P in R){if(O.isFunction(R[P])){Q.push(P)}}return Q.sort()};O.extend=r(O.keysIn);O.assign=r(O.keys);O.findKey=function(V,P,S){P=G(P,S);var U=O.keys(V),R;for(var Q=0,T=U.length;Q<T;Q++){R=U[Q];if(P(V[R],R,V)){return R}}};O.pick=function(R,T,P){var X={},V;if(R==null){return X}if(O.isFunction(T)){T=b(T,P);for(V in R){var U=R[V];if(T(U,V,R)){X[V]=U}}}else{var W=x(arguments,false,false,1);R=new Object(R);for(var S=0,Q=W.length;S<Q;S++){V=W[S];if(V in R){X[V]=R[V]}}}return X};O.omit=function(R,S,P){if(O.isFunction(S)){S=O.negate(S)}else{var Q=O.map(x(arguments,false,false,1),String);S=function(U,T){return !O.contains(Q,T)}}return O.pick(R,S,P)};O.defaults=r(O.keysIn,true);O.create=function(Q,R){var P=D(Q);if(R){O.assign(P,R)}return P};O.clone=function(P){if(!O.isObject(P)){return P}return O.isArray(P)?P.slice():O.extend({},P)};O.tap=function(Q,P){P(Q);return Q};var N=function(X,W,Q,S){if(X===W){return X!==0||1/X===1/W}if(X==null||W==null){return X===W}if(X instanceof O){X=X._wrapped}if(W instanceof O){W=W._wrapped}var U=c.call(X);if(U!==c.call(W)){return false}switch(U){case"[object RegExp]":case"[object String]":return""+X===""+W;case"[object Number]":if(+X!==+X){return +W!==+W}return +X===0?1/+X===1/W:+X===+W;case"[object Date]":case"[object Boolean]":return +X===+W}var R=U==="[object Array]";if(!R){if(typeof X!="object"||typeof W!="object"){return false}var V=X.constructor,T=W.constructor;if(V!==T&&!(O.isFunction(V)&&V instanceof V&&O.isFunction(T)&&T instanceof T)&&("constructor" in X&&"constructor" in W)){return false}}Q=Q||[];S=S||[];var P=Q.length;while(P--){if(Q[P]===X){return S[P]===W}}Q.push(X);S.push(W);if(R){P=X.length;if(P!==W.length){return false}while(P--){if(!N(X[P],W[P],Q,S)){return false}}}else{var Z=O.keys(X),Y;P=Z.length;if(O.keys(W).length!==P){return false}while(P--){Y=Z[P];if(!(O.has(W,Y)&&N(X[Y],W[Y],Q,S))){return false}}}Q.pop();S.pop();return true};O.isEqual=function(Q,P){return N(Q,P)};O.isEmpty=function(P){if(P==null){return true}if(E(P)&&(O.isArray(P)||O.isString(P)||O.isArguments(P))){return P.length===0}return O.keys(P).length===0};O.isElement=function(P){return !!(P&&P.nodeType===1)};O.isArray=u||function(P){return c.call(P)==="[object Array]"};O.isObject=function(Q){var P=typeof Q;return P==="function"||P==="object"&&!!Q};O.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(P){O["is"+P]=function(Q){return c.call(Q)==="[object "+P+"]"}});if(!O.isArguments(arguments)){O.isArguments=function(P){return O.has(P,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){O.isFunction=function(P){return typeof P=="function"||false}}O.isFinite=function(P){return isFinite(P)&&!isNaN(parseFloat(P))};O.isNaN=function(P){return O.isNumber(P)&&P!==+P};O.isBoolean=function(P){return P===true||P===false||c.call(P)==="[object Boolean]"};O.isNull=function(P){return P===null};O.isUndefined=function(P){return P===void 0};O.has=function(Q,P){return Q!=null&&l.call(Q,P)};O.noConflict=function(){w._=m;return this};O.identity=function(P){return P};O.constant=function(P){return function(){return P}};O.noop=function(){};O.property=function(P){return function(Q){return Q==null?void 0:Q[P]}};O.propertyOf=function(P){return P==null?function(){}:function(Q){return P[Q]}};O.matches=function(P){var R=O.pairs(P),Q=R.length;return function(U){if(U==null){return !Q}U=new Object(U);for(var T=0;T<Q;T++){var V=R[T],S=V[0];if(V[1]!==U[S]||!(S in U)){return false}}return true}};O.times=function(T,S,R){var P=Array(Math.max(0,T));S=b(S,R,1);for(var Q=0;Q<T;Q++){P[Q]=S(Q)}return P};O.random=function(Q,P){if(P==null){P=Q;Q=0}return Q+Math.floor(Math.random()*(P-Q+1))};O.now=Date.now||function(){return new Date().getTime()};var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var o=O.invert(t);var y=function(T){var Q=function(U){return T[U]};var S="(?:"+O.keys(T).join("|")+")";var R=RegExp(S);var P=RegExp(S,"g");return function(U){U=U==null?"":""+U;return R.test(U)?U.replace(P,Q):U}};O.escape=y(t);O.unescape=y(o);O.result=function(P,R,S){var Q=P==null?void 0:P[R];if(Q===void 0){Q=S}return O.isFunction(Q)?Q.call(P):Q};var B=0;O.uniqueId=function(P){var Q=++B+"";return P?P+Q:Q};O.templateSettings={evaluate:/\<\%([\s\S]+?)\%\>/g,interpolate:/\<\%\=([\s\S]+?)\%\>/g,escape:/\<\%\-([\s\S]+?)\%\>/g};var v=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var j=/\\|'|\r|\n|\u2028|\u2029/g;var I=function(P){return"\\"+h[P]};O.template=function(Y,S,V){if(!S&&V){S=V}S=O.defaults({},S,O.templateSettings);var T=RegExp([(S.escape||v).source,(S.interpolate||v).source,(S.evaluate||v).source].join("|")+"|$","g");var U=0;var P="__p+='";Y.replace(T,function(aa,ab,Z,ad,ac){P+=Y.slice(U,ac).replace(j,I);U=ac+aa.length;if(ab){P+="'+\n((__t=("+ab+"))==null?'':_.escape(__t))+\n'"}else{if(Z){P+="'+\n((__t=("+Z+"))==null?'':__t)+\n'"}else{if(ad){P+="';\n"+ad+"\n__p+='"}}}return aa});P+="';\n";if(!S.variable){P="with(obj||{}){\n"+P+"}\n"}P="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+P+"return __p;\n";try{var R=new Function(S.variable||"obj","_",P)}catch(W){W.source=P;throw W}var X=function(Z){return R.call(this,Z,O)};var Q=S.variable||"obj";X.source="function("+Q+"){\n"+P+"}";return X};O.chain=function(Q){var P=O(Q);P._chain=true;return P};var q=function(P,Q){return P._chain?O(Q).chain():Q};O.mixin=function(P){O.each(O.functions(P),function(Q){var R=O[Q]=P[Q];O.prototype[Q]=function(){var S=[this._wrapped];M.apply(S,arguments);return q(this,R.apply(O,S))}})};O.mixin(O);O.each(["pop","push","reverse","shift","sort","splice","unshift"],function(P){var Q=J[P];O.prototype[P]=function(){var R=this._wrapped;Q.apply(R,arguments);if((P==="shift"||P==="splice")&&R.length===0){delete R[0]}return q(this,R)}});O.each(["concat","join","slice"],function(P){var Q=J[P];O.prototype[P]=function(){return q(this,Q.apply(this._wrapped,arguments))}});O.prototype.value=function(){return this._wrapped};O.prototype.valueOf=O.prototype.toJSON=O.prototype.value;O.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return O})}}.call(this));(function(b){var c=b._||require("underscore");var e=Array.prototype.slice,d=Array.prototype.concat;var a=function(f){return f!=null};c.mixin({cat:function(){return c.reduce(arguments,function(g,f){if(c.isArguments(f)){return d.call(g,e.call(f))}else{return d.call(g,f)}},[])},cons:function(g,f){return c.cat([g],f)},chunk:function(j,h,g){var f=function(m){if(m==null){return[]}var l=c.take(m,h);if(h===c.size(l)){return c.cons(l,f(c.drop(m,h)))}else{return g?[c.take(c.cat(l,g),h)]:[]}};return f(j)},chunkAll:function(j,h,f){f=(f!=null)?f:h;var g=function(o,m,l){if(c.isEmpty(o)){return[]}return c.cons(c.take(o,m),g(c.drop(o,l),m,l))};return g(j,h,f)},mapcat:function(g,f){return c.cat.apply(null,c.map(g,f))},interpose:function(h,f){if(!c.isArray(h)){throw new TypeError}var g=c.size(h);if(g===0){return h}if(g===1){return h}return e.call(c.mapcat(h,function(j){return c.cons(j,[f])}),0,-1)},weave:function(){if(!c.some(arguments)){return[]}if(arguments.length==1){return arguments[0]}return c.filter(c.flatten(c.zip.apply(null,arguments),true),function(f){return f!=null})},interleave:c.weave,repeat:function(f,g){return c.times(f,function(){return g})},cycle:function(g,f){return c.flatten(c.times(g,function(){return f}),true)},splitAt:function(g,f){return[c.take(g,f),c.drop(g,f)]},iterateUntil:function(l,j,g){var h=[];var f=l(g);while(j(f)){h.push(f);f=l(f)}return h},takeSkipping:function(l,j){var g=[];var h=c.size(l);if(j<=0){return[]}if(j===1){return l}for(var f=0;f<h;f+=j){g.push(l[f])}return g},reductions:function(l,f,j){var g=[];var h=j;c.each(l,function(n,m){h=f(h,l[m]);g.push(h)});return g},keepIndexed:function(g,f){return c.filter(c.map(c.range(c.size(g)),function(h){return f(h,g[h])}),a)},reverseOrder:function(f){if(typeof f=="string"){throw new TypeError("Strings cannot be reversed by _.reverseOrder")}return e.call(f).reverse()}})})(this);(function(b){var c=b._||require("underscore");var g=Array.prototype.slice,f=Array.prototype.concat;var a=function(h){return h!=null};var d=function(h){return(h!==false)&&a(h)};var e=function(h){return(c.isArray(h))||(c.isArguments(h))};c.mixin({second:function(l,j,h){if(l==null){return void 0}return(j!=null)&&!h?g.call(l,1,j):l[1]},third:function(l,j,h){if(l==null){return void 0}return(j!=null)&&!h?g.call(l,2,j):l[2]},nth:function(l,h,j){if((h!=null)&&!j){return l[h]}},takeWhile:function(m,h){if(!e(m)){throw new TypeError}var l=c.size(m);for(var j=0;j<l;j++){if(!d(h(m[j]))){break}}return c.take(m,j)},dropWhile:function(m,h){if(!e(m)){throw new TypeError}var l=c.size(m);for(var j=0;j<l;j++){if(!d(h(m[j]))){break}}return c.drop(m,j)},splitWith:function(j,h){return[c.takeWhile(j,h),c.dropWhile(j,h)]},partitionBy:function(n,h){if(c.isEmpty(n)||!a(n)){return[]}var j=c.first(n);var l=h(j);var m=f.call([j],c.takeWhile(c.rest(n),function(o){return c.isEqual(l,h(o))}));return f.call([m],c.partitionBy(c.drop(n,c.size(m)),h))},best:function(j,h){return c.reduce(j,function(l,m){return h(l,m)?l:m})},keep:function(j,h){if(!e(j)){throw new TypeError("expected an array as the first argument")}return c.filter(c.map(j,function(l){return h(l)}),a)}})})(this);(function(g){var h=g._||require("underscore");var j={};var f={};var c="Not a tree: same object found in two different branches";function a(l){return h.isElement(l)?l.children:l}function b(m,q,o,r,p,n){var l=[];return(function s(y,w,x){if(h.isObject(y)){if(l.indexOf(y)>=0){throw new TypeError(c)}l.push(y)}if(o){var u=o.call(p,y,w,x);if(u===f){return f}if(u===j){return}}var t;var z=q(y);if(h.isObject(z)&&!h.isEmpty(z)){if(n){t=h.isArray(y)?[]:{}}var v=h.any(z,function(C,B){var A=s(C,B,y);if(A===f){return true}if(t){t[B]=A}});if(v){return f}}if(r){return r.call(p,y,w,x,t)}})(m)}function e(o,l,m){var n=[];this.preorder(o,function(q,p){if(!m&&p==l){return j}if(h.has(q,l)){n[n.length]=q[l]}});return n}var d={find:function(o,n,m){var l;this.preorder(o,function(r,p,q){if(n.call(m,r,p,q)){l=r;return f}},m);return l},filter:function(o,p,n,m){var l=[];if(o==null){return l}p(o,function(s,q,r){if(n.call(m,s,q,r)){l.push(s)}},null,this._traversalStrategy);return l},reject:function(n,o,m,l){return this.filter(n,o,function(r,p,q){return !m.call(l,r,p,q)})},map:function(o,p,n,m){var l=[];p(o,function(s,q,r){l[l.length]=n.call(m,s,q,r)},null,this._traversalStrategy);return l},pluck:function(m,l){return e.call(this,m,l,false)},pluckRec:function(m,l){return e.call(this,m,l,true)},postorder:function(o,n,m,l){l=l||this._traversalStrategy;b(o,l,null,n,m)},preorder:function(o,n,m,l){l=l||this._traversalStrategy;b(o,l,n,null,m)},reduce:function(o,n,l,m){var p=function(t,r,s,q){return n(q||l,t,r,s)};return b(o,this._traversalStrategy,null,p,m,true)}};d.collect=d.map;d.detect=d.find;d.select=d.filter;h.walk=function(l){var m=h.clone(d);h.bindAll.apply(null,[m].concat(h.keys(m)));m._traversalStrategy=l||a;return m};h.extend(h.walk,h.walk())})(this);(function(b){var d=b._||require("underscore");function a(g){return function f(){if(arguments.length===1){return g.apply(this,arguments)}else{throw new RangeError("Only a single argument may be accepted.")}}}var c=(function(){function f(n,m,o,j,l,h){if(h===true){j.unshift(l)}else{j.push(l)}if(j.length==o){return n.apply(m,j)}else{return a(function(){return f(n,m,o,j.slice(0),arguments[0],h)})}}return function g(l,h){var j=this;return a(function(){return f(l,j,l.length,[],arguments[0],h)})}}());var e=(function(){var f=[];return function g(j){if(typeof j!=="function"){throw new Error("Argument 1 must be a function.")}var h=j.length;if(f[h]===undefined){f[h]=function(l){return function(){if(arguments.length!==h){throw new RangeError(h+" arguments must be applied.")}return l.apply(this,arguments)}}}return f[h](j)}}());d.mixin({fix:function(g){var h=d.rest(arguments);var j=function(){var l=h.slice();var f=0;for(var m=0;m<(l.length||f<arguments.length);m++){if(l[m]===d){l[m]=arguments[f++]}}return g.apply(null,l)};j._original=g;return j},unary:function(f){return function g(h){return f.call(this,h)}},binary:function(f){return function g(j,h){return f.call(this,j,h)}},ternary:function(f){return function g(j,h,l){return f.call(this,j,h,l)}},quaternary:function(f){return function g(j,h,m,l){return f.call(this,j,h,m,l)}},curry:c,rCurry:function(f){return c.call(this,f,true)},curry2:function(g){return a(function f(h){return a(function(j){return g.call(this,h,j)})})},curry3:function(f){return a(function(g){return a(function(h){return a(function(j){return f.call(this,g,h,j)})})})},rcurry2:function(f){return a(function(g){return a(function(h){return f.call(this,h,g)})})},rcurry3:function(f){return a(function(g){return a(function(h){return a(function(j){return f.call(this,j,h,g)})})})},enforce:e});d.arity=(function(){var f={};return function g(h,j){if(f[h]==null){var o=new Array(h);for(var m=0;m<h;++m){o[m]="__"+m}var l=o.join();var n="return function ("+l+") { return fun.apply(this, arguments); };";f[h]=new Function(["fun"],n)}if(j==null){return function(p){return g(h,p)}}else{return f[h](j)}}})()})(this);(function(f){var g=f._||require("underscore");var c=function(l){return l!=null};var h=function(l){return(l!==false)&&c(l)};var e=[].reverse;var b=[].slice;var a=[].map;var j=function(m){return function l(o,n){if(arguments.length===1){return function(p){return m(o,p)}}else{return m(o,n)}}};function d(l,m){return g.arity(l.length,function(){return l.apply(this,a.call(arguments,m))})}g.mixin({always:g.constant,pipeline:function(){var l=(g.isArray(arguments[0]))?arguments[0]:arguments;return function(m){return g.reduce(l,function(n,o){return o(n)},m)}},conjoin:function(){var l=arguments;return function(m){return g.every(m,function(n){return g.every(l,function(o){return o(n)})})}},disjoin:function(){var l=arguments;return function(m){return g.some(m,function(n){return g.some(l,function(o){return o(n)})})}},comparator:function(l){return function(m,n){if(h(l(m,n))){return -1}else{if(h(l(n,m))){return 1}else{return 0}}}},complement:function(l){return function(){return !l.apply(this,arguments)}},splat:function(l){return function(m){return l.apply(this,m)}},unsplat:function(l){var m=l.length;if(m<1){return l}else{if(m===1){return function(){return l.call(this,b.call(arguments,0))}}else{return function(){var o=arguments.length,q=b.call(arguments,0,m-1),n=Math.max(m-o-1,0),p=new Array(n),r=b.call(arguments,l.length-1);return l.apply(this,q.concat(p).concat([r]))}}}},unsplatl:function(l){var m=l.length;if(m<1){return l}else{if(m===1){return function(){return l.call(this,b.call(arguments,0))}}else{return function(){var n=arguments.length,o=b.call(arguments,Math.max(n-m+1,0)),p=b.call(arguments,0,Math.max(n-m+1,0));return l.apply(this,[p].concat(o))}}}},mapArgs:j(d),juxt:function(){var l=arguments;return function(){var m=arguments;return g.map(l,function(n){return n.apply(this,m)},this)}},fnull:function(l){var m=g.rest(arguments);return function(){var n=g.toArray(arguments);var p=g.size(m);for(var o=0;o<p;o++){if(!c(n[o])){n[o]=m[o]}}return l.apply(this,n)}},flip2:function(l){return function(){var m=b.call(arguments);m[0]=arguments[1];m[1]=arguments[0];return l.apply(this,m)}},flip:function(l){return function(){var m=e.call(arguments);return l.apply(this,m)}},functionalize:function(l){return function(m){return l.apply(m,g.rest(arguments))}},methodize:function(l){return function(){return l.apply(null,g.cons(this,arguments))}},k:g.always,t:g.pipeline});g.unsplatr=g.unsplat;g.mapArgsWith=j(g.flip(d));g.bound=function(m,n){var l=m[n];if(!g.isFunction(l)){throw new TypeError("Expected property to be a function")}return g.bind(l,m)}})(this);(function(a){var b=a._||require("underscore");var c=Array.prototype.slice;b.mixin({attempt:function(e,g){if(e==null){return void 0}var f=e[g];var d=c.call(arguments,2);return b.isFunction(f)?f.apply(e,d):void 0}})})(this);(function(w,j){var A=w._||require("underscore");var u={};function p(C){return function(D){return C.call(this,D)}}function b(C){return function(E,D){return C.call(this,E,D)}}function z(D,E,C){var G,F;if(C!==void 0){G=C}else{G=D()}F=D();while(F!=null){G=E.call(F,G,F);F=D()}return G}function q(C,E){var D=u;return function(){if(D===u){D=C}else{if(D!=null){D=E.call(D,D)}}return D}}function c(C,F){var E=C,G,D;return function(){if(E!=null){G=F.call(E,E);D=G[1];E=D!=null?G[0]:void 0;return D}else{return void 0}}}function l(C,E,D){var F=D;return function(){var G=C();if(G==null){return G}else{if(F===void 0){F=G}else{F=E.call(G,F,G)}return F}}}function B(C,E,D){var H=D,G,F;return function(){F=C();if(F==null){return F}else{if(H===void 0){H=F;return H}else{G=E.call(F,H,F);H=G[0];return G[1]}}}}function y(C,D){return function(){var E;E=C();if(E!=null){return D.call(E,E)}else{return void 0}}}function h(D,E){var C=null;return function(){var F;var G;if(C==null){G=D();if(G==null){C=null;return void 0}C=E.call(G,G)}while(F==null){F=C();if(F==null){G=D();if(G==null){C=null;return void 0}else{C=E.call(G,G)}}}return F}}function t(C,D){return function(){var E;E=C();while(E!=null){if(D.call(E,E)){return E}E=C()}return void 0}}function g(C,D){return t(C,function(E){return !D(E)})}function s(C,D){return t(C,D)()}function v(C,D,E){var F=0;while(D-->0){C()}if(E!=null){return function(){if(++F<=E){return C()}else{return void 0}}}else{return C}}function n(C,D){return v(C,D==null?1:D)}function f(C,D){return v(C,0,D==null?1:D)}function d(D){var C=0;return function(){return D[C++]}}function x(F){var C,D,E;C=0;E=[];D=function(){var G,H;G=F[C++];if(G instanceof Array){E.push({array:F,index:C});F=G;C=0;return D()}else{if(G===void 0){if(E.length>0){H=E.pop();F=H.array;C=H.index;return D()}else{return void 0}}else{return G}}};return D}function o(C){return function(){return C}}function a(E,D,C){return function(){var F;if(E>D){return void 0}else{F=E;E=E+C;return F}}}function e(E,D,C){return function(){var F;if(E<D){return void 0}else{F=E;E=E-C;return F}}}function r(E,D,C){if(E==null){return a(1,Infinity,1)}else{if(D==null){return a(E,Infinity,1)}else{if(C==null){if(E<=D){return a(E,D,1)}else{return e(E,D,1)}}else{if(C>0){return a(E,D,C)}else{if(C<0){return e(E,D,Math.abs(C))}else{return k(E)}}}}}}var m=p(r);A.iterators={accumulate:l,accumulateWithReturn:B,foldl:z,reduce:z,unfold:q,unfoldWithReturn:c,map:y,mapcat:h,select:t,reject:g,filter:t,find:s,slice:v,drop:n,take:f,List:d,Tree:x,constant:o,K:o,numbers:m,range:r}})(this,void 0);(function(a){var b=a._||require("underscore");b.mixin({isInstanceOf:function(c,d){return(c instanceof d)},isAssociative:function(c){return b.isArray(c)||b.isObject(c)||b.isArguments(c)},isIndexed:function(c){return b.isArray(c)||b.isString(c)||b.isArguments(c)},isSequential:function(c){return(b.isArray(c))||(b.isArguments(c))},isPlainObject:function(c){return b.isObject(c)&&c.constructor===a.Object},isZero:function(c){return 0===c},isEven:function(c){return b.isFinite(c)&&(c&1)===0},isOdd:function(c){return b.isFinite(c)&&!b.isEven(c)},isPositive:function(c){return c>0},isNegative:function(c){return c<0},isValidDate:function(c){return b.isDate(c)&&!b.isNaN(c.getTime())},isNumeric:function(c){return !isNaN(parseFloat(c))&&isFinite(c)},isInteger:function(c){return b.isNumeric(c)&&c%1===0},isFloat:function(c){return b.isNumeric(c)&&!b.isInteger(c)},isJSON:function(d){try{JSON.parse(d)}catch(c){return false}return true},isIncreasing:function(){var d=b.size(arguments);if(d===1){return true}if(d===2){return arguments[0]<arguments[1]}for(var c=1;c<d;c++){if(arguments[c-1]>=arguments[c]){return false}}return true},isDecreasing:function(){var d=b.size(arguments);if(d===1){return true}if(d===2){return arguments[0]>arguments[1]}for(var c=1;c<d;c++){if(arguments[c-1]<=arguments[c]){return false}}return true}})})(this);(function(b){var c=b._||require("underscore");var g=Array.prototype.slice,e=Array.prototype.concat;var a=function(j){return j!=null};var d=function(j){return(j!==false)&&a(j)};var h=function(j){return c.isArray(j)||c.isObject(j)};var f=function(j){return function(l){return function(m){return j(m,l)}}};c.mixin({merge:function(){var j=c.some(arguments)?{}:null;if(d(j)){c.extend.apply(null,e.call([j],c.toArray(arguments)))}return j},renameKeys:function(l,j){return c.reduce(j,function(p,n,m){if(a(l[m])){p[n]=l[m];return p}else{return p}},c.omit.apply(null,e.call([l],c.keys(j))))},snapshot:function(m){if(m==null||typeof(m)!="object"){return m}var j=new m.constructor();for(var l in m){if(m.hasOwnProperty(l)){j[l]=c.snapshot(m[l])}}return j},updatePath:function(l,o,q,p){if(!h(l)){throw new TypeError("Attempted to update a non-associative object.")}if(!a(q)){return o(l)}var j=c.isArray(q);var s=j?q:[q];var n=j?c.snapshot(l):c.clone(l);var r=c.last(s);var m=n;c.each(c.initial(s),function(t){if(p&&!c.has(m,t)){m[t]=c.clone(p)}m=m[t]});m[r]=o(m[r]);return n},setPath:function(m,l,n,j){if(!a(n)){throw new TypeError("Attempted to set a property at a null path.")}return c.updatePath(m,function(){return l},n,j)},frequencies:f(c.countBy)(c.identity)})})(this);(function(c){var e=c._||require("underscore");var f=Array.prototype.concat;var b=Array.prototype;var g=b.slice;e.mixin({accessor:function(h){return function(j){return(j&&j[h])}},dictionary:function(h){return function(j){return(h&&j&&h[j])}},selectKeys:function(h,j){return e.pick.apply(null,f.call([h],j))},kv:function(j,h){if(e.has(j,h)){return[h,j[h]]}return void 0},getPath:function a(h,j){if(typeof j=="string"){j=j.split(".")}if(h===undefined){return void 0}if(j.length===0){return h}if(h===null){return void 0}return a(h[e.first(j)],e.rest(j))},hasPath:function d(j,l){if(typeof l=="string"){l=l.split(".")}var h=l.length;if(j==null&&h>0){return false}if(!(l[0] in j)){return false}if(h===1){return true}return d(j[e.first(l)],e.rest(l))},pickWhen:function(j,h){var l={};e.each(j,function(n,m){if(h(j[m])){l[m]=j[m]}});return l},omitWhen:function(j,h){return e.pickWhen(j,function(l){return !h(l)})}})})(this);(function(a){var b=a._||require("underscore");b.mixin({exists:function(c){return c!=null},truthy:function(c){return(c!==false)&&b.exists(c)},falsey:function(c){return !b.truthy(c)},not:function(c){return !c},firstExisting:function(){for(var c=0;c<arguments.length;c++){if(arguments[c]!=null){return arguments[c]}}}})})(this);(function(w){var C=w._||require("underscore");function y(D){return function(){return C.reduce(arguments,D)}}function d(D){return function(){var E;for(var F=0;F<arguments.length-1;F++){E=D(arguments[F],arguments[F+1]);if(E===false){return E}}return E}}function p(D){return function(){return !D.apply(this,arguments)}}function r(D,E){return D+E}function m(D,E){return D-E}function x(D,E){return D*E}function q(D,E){return D/E}function z(D,E){return D%E}function n(D){return ++D}function u(D){return --D}function a(D){return -D}function o(D,E){return D&E}function A(D,E){return D|E}function g(D,E){return D^E}function f(D,E){return D<<E}function h(D,E){return D>>E}function b(D,E){return D>>>E}function v(D){return ~D}function B(D,E){return D==E}function t(D,E){return D===E}function e(D){return !D}function s(D,E){return D>E}function j(D,E){return D<E}function l(D,E){return D>=E}function c(D,E){return D<=E}C.mixin({add:y(r),sub:y(m),mul:y(x),div:y(q),mod:z,inc:n,dec:u,neg:a,eq:d(B),seq:d(t),neq:p(d(B)),sneq:p(d(t)),not:e,gt:d(s),lt:d(j),gte:d(l),lte:d(c),bitwiseAnd:y(o),bitwiseOr:y(A),bitwiseXor:y(g),bitwiseNot:v,bitwiseLeft:y(f),bitwiseRight:y(h),bitwiseZ:y(b)})})(this);(function(b){var e=b._||require("underscore");var d=/\+/g;var g=/\%20/g;var c=/(?:([^\[]+))|(?:\[(.*?)\])/g;var a=function(j){return decodeURIComponent(j.replace(d,"%20"))};var h=function(j){return encodeURIComponent(j).replace(g,"+")};var f=function(j,m,l){if(e.isUndefined(l)){l=true}if(e.isArray(m)){return e.map(m,function(o,n){return f(l?n:j+"[]",o,false)}).join("&")}else{if(e.isObject(m)){return e.map(m,function(o,n){return f(l?n:j+"["+n+"]",o,false)}).join("&")}else{return h(j)+"="+h(m)}}};e.mixin({explode:function(j){return j.split("")},fromQuery:function(o){var s=o.split("&"),m={},p,q,n,r,l,j;e.each(s,function(t){t=t.split("=");q=a(t[0]);r=q;j=m;c.lastIndex=0;while((n=c.exec(q))!==null){if(!e.isUndefined(n[1])){l=n[1]}else{l=n[2];j[r]=j[r]||(l?{}:[]);j=j[r]}r=l||e.size(j)}j[r]=a(t[1])});return m},implode:function(j){return j.join("")},camelCase:function(j){return j.replace(/-([a-z])/g,function(l){return l[1].toUpperCase()})},toDash:function(j){j=j.replace(/([A-Z])/g,function(l){return"-"+l.toLowerCase()});return(j.charAt(0)=="-")?j.substr(1):j},toQuery:function(j){return f("",j)},strContains:function(l,j){if(typeof l!="string"){throw new TypeError}return(l.indexOf(j)!=-1)}})})(this);(function(a){var b=a._||require("underscore");b.mixin({done:function(d){var c=b(d);c.stopTrampoline=true;return c},trampoline:function(d){var c=d.apply(d,b.rest(arguments));while(b.isFunction(c)){c=c();if((c instanceof b)&&(c.stopTrampoline)){break}}return c.value()}})})(this);(function(){function V(an){return typeof an==="function"||(typeof an==="object"&&an!==null)}function u(an){return typeof an==="function"}function al(an){return typeof an==="object"&&an!==null}var ai;if(!Array.isArray){ai=function(an){return Object.prototype.toString.call(an)==="[object Array]"}}else{ai=Array.isArray}var N=ai;var z=Date.now||function(){return new Date().getTime()};function C(){}var f=(Object.create||function(an){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof an!=="object"){throw new TypeError("Argument must be an object")}C.prototype=an;return new C()});var ag=0;var q=function T(ao,an){af[ag]=ao;af[ag+1]=an;ag+=2;if(ag===2){c()}};var M=(typeof window!=="undefined")?window:{};var x=M.MutationObserver||M.WebKitMutationObserver;var p=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function Q(){return function(){process.nextTick(ah)}}function ab(){var ap=0;var an=new x(ah);var ao=document.createTextNode("");an.observe(ao,{characterData:true});return function(){ao.data=(ap=++ap%2)}}function R(){var an=new MessageChannel();an.port1.onmessage=ah;return function(){an.port2.postMessage(0)}}function X(){return function(){setTimeout(ah,1)}}var af=new Array(1000);function ah(){for(var ao=0;ao<ag;ao+=2){var ap=af[ao];var an=af[ao+1];ap(an);af[ao]=undefined;af[ao+1]=undefined}ag=0}var c;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){c=Q()}else{if(x){c=ab()}else{if(p){c=R()}else{c=X()}}}function s(){}var D=void 0;var Y=1;var E=2;var ae=new ak();function ac(){return new TypeError("You cannot resolve a promise with itself")}function L(){return new TypeError("A promises callback cannot return that same promise.")}function U(ao){try{return ao.then}catch(an){ae.error=an;return ae}}function e(ar,ap,ao,an){try{ar.call(ap,ao,an)}catch(aq){return aq}}function W(ap,an,ao){q(function(at){var ar=false;var aq=e(ao,an,function(au){if(ar){return}ar=true;if(an!==au){n(at,au)}else{m(at,au)}},function(au){if(ar){return}ar=true;K(at,au)},"Settle: "+(at._label||" unknown promise"));if(!ar&&aq){ar=true;K(at,aq)}},ap)}function g(ao,an){if(an._state===Y){m(ao,an._result)}else{if(ao._state===E){K(ao,an._result)}else{am(an,undefined,function(ap){n(ao,ap)},function(ap){K(ao,ap)})}}}function h(ap,an){if(an.constructor===ap.constructor){g(ap,an)}else{var ao=U(an);if(ao===ae){K(ap,ae.error)}else{if(ao===undefined){m(ap,an)}else{if(u(ao)){W(ap,an,ao)}else{m(ap,an)}}}}}function n(ao,an){if(ao===an){K(ao,ac())}else{if(V(an)){h(ao,an)}else{m(ao,an)}}}function P(an){if(an._onerror){an._onerror(an._result)}l(an)}function m(ao,an){if(ao._state!==D){return}ao._result=an;ao._state=Y;if(ao._subscribers.length===0){}else{q(l,ao)}}function K(ao,an){if(ao._state!==D){return}ao._state=E;ao._result=an;q(P,ao)}function am(an,at,ar,aq){var ap=an._subscribers;var ao=ap.length;an._onerror=null;ap[ao]=at;ap[ao+Y]=ar;ap[ao+E]=aq;if(ao===0&&an._state){q(l,an)}}function l(ar){var aq=ar._subscribers;var an=ar._state;if(aq.length===0){return}var au,at,ap=ar._result;for(var ao=0;ao<aq.length;ao+=3){au=aq[ao];at=aq[ao+an];if(au){aa(an,au,at,ap)}else{at(ap)}}ar._subscribers.length=0}function ak(){this.error=null}var t=new ak();function J(ap,an){try{return ap(an)}catch(ao){t.error=ao;return t}}function aa(au,aw,at,ap){var an=u(at),ar,aq,av,ao;if(an){ar=J(at,ap);if(ar===t){ao=true;aq=ar.error;ar=null}else{av=true}if(aw===ar){K(aw,L());return}}else{ar=ap;av=true}if(aw._state!==D){}else{if(an&&av){n(aw,ar)}else{if(ao){K(aw,aq)}else{if(au===Y){m(aw,ar)}else{if(au===E){K(aw,ar)}}}}}}function j(ar,aq){try{aq(function an(at){n(ar,at)},function ap(at){K(ar,at)})}catch(ao){K(ar,ao)}}function aj(ap,an,ao){if(ap===Y){return{state:"fulfilled",value:ao}}else{return{state:"rejected",reason:ao}}}function ad(ap,an,aq,ao){this._instanceConstructor=ap;this.promise=new ap(s,ao);this._abortOnReject=aq;if(this._validateInput(an)){this._input=an;this.length=an.length;this._remaining=an.length;this._init();if(this.length===0){m(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){m(this.promise,this._result)}}}else{K(this.promise,this._validationError())}}ad.prototype._validateInput=function(an){return N(an)};ad.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};ad.prototype._init=function(){this._result=new Array(this.length)};var O=ad;ad.prototype._enumerate=function(){var ap=this.length;var aq=this.promise;var an=this._input;for(var ao=0;aq._state===D&&ao<ap;ao++){this._eachEntry(an[ao],ao)}};ad.prototype._eachEntry=function(ao,an){var ap=this._instanceConstructor;if(al(ao)){if(ao.constructor===ap&&ao._state!==D){ao._onerror=null;this._settledAt(ao._state,an,ao._result)}else{this._willSettleAt(ap.resolve(ao),an)}}else{this._remaining--;this._result[an]=this._makeResult(Y,an,ao)}};ad.prototype._settledAt=function(ap,an,ao){var aq=this.promise;if(aq._state===D){this._remaining--;if(this._abortOnReject&&ap===E){K(aq,ao)}else{this._result[an]=this._makeResult(ap,an,ao)}}if(this._remaining===0){m(aq,this._result)}};ad.prototype._makeResult=function(ap,an,ao){return ao};ad.prototype._willSettleAt=function(ao,an){var ap=this;am(ao,undefined,function(aq){ap._settledAt(Y,an,aq)},function(aq){ap._settledAt(E,an,aq)})};var A=function y(an,ao){return new O(this,an,true,ao).promise};var F=function o(an,ao){var av=this;var au=new av(s,ao);if(!N(an)){K(au,new TypeError("You must pass an array to race."));return au}var aq=an.length;function at(aw){n(au,aw)}function ar(aw){K(au,aw)}for(var ap=0;au._state===D&&ap<aq;ap++){am(av.resolve(an[ap]),undefined,at,ar)}return au};var w=function B(ao,an){var aq=this;if(ao&&typeof ao==="object"&&ao.constructor===aq){return ao}var ap=new aq(s,an);n(ap,ao);return ap};var b=function H(ao,an){var aq=this;var ap=new aq(s,an);K(ap,ao);return ap};var I=0;function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function r(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var S=d;function d(ao,an){this._id=I++;this._label=an;this._state=undefined;this._result=undefined;this._subscribers=[];if(s!==ao){if(!u(ao)){Z()}if(!(this instanceof d)){r()}j(this,ao)}}d.all=A;d.race=F;d.resolve=w;d.reject=b;d.prototype={constructor:d,then:function(at,ar,ao){var ap=this;var aq=ap._state;if(aq===Y&&!at||aq===E&&!ar){return this}ap._onerror=null;var av=new this.constructor(s,ao);var an=ap._result;if(aq){var au=arguments[aq-1];q(function(){aa(aq,av,au,an)})}else{am(ap,av,at,ar)}return av},"catch":function(ao,an){return this.then(null,ao,an)}};var v=function a(){var ao;if(typeof global!=="undefined"){ao=global}else{if(typeof window!=="undefined"&&window.document){ao=window}else{ao=self}}var an="Promise" in ao&&"resolve" in ao.Promise&&"reject" in ao.Promise&&"all" in ao.Promise&&"race" in ao.Promise&&(function(){var ap;new ao.Promise(function(aq){ap=aq});return u(ap)}());if(!an){ao.Promise=S}};var G={Promise:S,polyfill:v};if(typeof define==="function"&&define.amd){define(function(){return G})}else{if(typeof module!=="undefined"&&module.exports){module.exports=G}else{if(typeof this!=="undefined"){this["ES6Promise"]=G}}}if(this["ES6Promise"]&&!this.Promise){this.Promise=G.Promise;this.polyfill=G.polyfill;if(typeof window==="undefined"){Promise=this.Promise;a=this.polyfill}}}).call(this);typeof JSON!="object"&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1){typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}}else{for(r in a){Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}}return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number"){for(r=0;r<n;r+=1){indent+=" "}}else{typeof n=="string"&&(indent=n)}rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number"){return str("",{"":e})}throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object"){for(n in i){Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n])}}return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}(),function(b,a){var c=b.History=b.History||{};if(typeof c.Adapter!="undefined"){throw new Error("History.js Adapter has already been loaded...")}c.Adapter={handlers:{},_uid:1,uid:function(d){return d._uid||(d._uid=c.Adapter._uid++)},bind:function(h,f,g){var d=c.Adapter.uid(h);c.Adapter.handlers[d]=c.Adapter.handlers[d]||{},c.Adapter.handlers[d][f]=c.Adapter.handlers[d][f]||[],c.Adapter.handlers[d][f].push(g),h["on"+f]=function(l,j){return function(e){c.Adapter.trigger(l,j,e)}}(h,f)},trigger:function(j,f,h){h=h||{};var d=c.Adapter.uid(j),g,l;c.Adapter.handlers[d]=c.Adapter.handlers[d]||{},c.Adapter.handlers[d][f]=c.Adapter.handlers[d][f]||[];for(g=0,l=c.Adapter.handlers[d][f].length;g<l;++g){c.Adapter.handlers[d][f][g].apply(this,[h])}},extractEventData:function(f,g){var d=g&&g[f]||a;return d},onDomLoad:function(d){var e=b.setTimeout(function(){d()},2000);b.onload=function(){clearTimeout(e),d()}}},typeof c.init!="undefined"&&c.init()}(window),function(f,b){var h=f.document,d=f.setTimeout||d,a=f.clearTimeout||a,c=f.setInterval||c,g=f.History=f.History||{};if(typeof g.initHtml4!="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}g.initHtml4=function(){if(typeof g.initHtml4.initialized!="undefined"){return !1}g.initHtml4.initialized=!0,g.enabled=!0,g.savedHashes=[],g.isLastHash=function(l){var j=g.getHashByIndex(),m;return m=l===j,m},g.isHashEqual=function(l,j){return l=encodeURIComponent(l).replace(/%25/g,"%"),j=encodeURIComponent(j).replace(/%25/g,"%"),l===j},g.saveHash=function(j){return g.isLastHash(j)?!1:(g.savedHashes.push(j),!0)},g.getHashByIndex=function(l){var j=null;return typeof l=="undefined"?j=g.savedHashes[g.savedHashes.length-1]:l<0?j=g.savedHashes[g.savedHashes.length+l]:j=g.savedHashes[l],j},g.discardedHashes={},g.discardedStates={},g.discardState=function(o,l,p){var m=g.getHashByState(o),j;return j={discardedState:o,backState:p,forwardState:l},g.discardedStates[m]=j,!0},g.discardHash=function(m,j,o){var l={discardedHash:m,backState:o,forwardState:j};return g.discardedHashes[m]=l,!0},g.discardedState=function(l){var j=g.getHashByState(l),m;return m=g.discardedStates[j]||!1,m},g.discardedHash=function(l){var j=g.discardedHashes[l]||!1;return j},g.recycleState=function(l){var j=g.getHashByState(l);return g.discardedState(l)&&delete g.discardedStates[j],!0},g.emulated.hashChange&&(g.hashChangeInit=function(){g.checkerFunction=null;var m="",n,l,j,e,o=Boolean(g.getHash());return g.isInternetExplorer()?(n="historyjs-iframe",l=h.createElement("iframe"),l.setAttribute("id",n),l.setAttribute("src","#"),l.style.display="none",h.body.appendChild(l),l.contentWindow.document.open(),l.contentWindow.document.close(),j="",e=!1,g.checkerFunction=function(){if(e){return !1}e=!0;var q=g.getHash(),p=g.getHash(l.contentWindow.document);return q!==m?(m=q,p!==q&&(j=p=q,l.contentWindow.document.open(),l.contentWindow.document.close(),l.contentWindow.document.location.hash=g.escapeHash(q)),g.Adapter.trigger(f,"hashchange")):p!==j&&(j=p,o&&p===""?g.back():g.setHash(p,!1)),e=!1,!0}):g.checkerFunction=function(){var p=g.getHash()||"";return p!==m&&(m=p,g.Adapter.trigger(f,"hashchange")),!0},g.intervalList.push(c(g.checkerFunction,g.options.hashChangeInterval)),!0},g.Adapter.onDomLoad(g.hashChangeInit)),g.emulated.pushState&&(g.onHashChange=function(m){var q=m&&m.newURL||g.getLocationHref(),p=g.getHashByUrl(q),l=null,o=null,j=null,e;return g.isLastHash(p)?(g.busy(!1),!1):(g.doubleCheckComplete(),g.saveHash(p),p&&g.isTraditionalAnchor(p)?(g.Adapter.trigger(f,"anchorchange"),g.busy(!1),!1):(l=g.extractState(g.getFullUrl(p||g.getLocationHref()),!0),g.isLastSavedState(l)?(g.busy(!1),!1):(o=g.getHashByState(l),e=g.discardedState(l),e?(g.getHashByIndex(-2)===g.getHashByState(e.forwardState)?g.back(!1):g.forward(!1),!1):(g.pushState(l.data,l.title,encodeURI(l.url),!1),!0))))},g.Adapter.bind(f,"hashchange",g.onHashChange),g.pushState=function(x,j,e,o){e=encodeURI(e).replace(/%25/g,"%");if(g.getHashByUrl(e)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(o!==!1&&g.busy()){return g.pushQueue({scope:g,callback:g.pushState,args:arguments,queue:o}),!1}g.busy(!0);var y=g.createStateObject(x,j,e),w=g.getHashByState(y),v=g.getState(!1),p=g.getHashByState(v),m=g.getHash(),q=g.expectedStateId==y.id;return g.storeState(y),g.expectedStateId=y.id,g.recycleState(y),g.setTitle(y),w===p?(g.busy(!1),!1):(g.saveState(y),q||g.Adapter.trigger(f,"statechange"),!g.isHashEqual(w,m)&&!g.isHashEqual(w,g.getShortUrl(g.getLocationHref()))&&g.setHash(w,!1),g.busy(!1),!0)},g.replaceState=function(w,j,e,o){e=encodeURI(e).replace(/%25/g,"%");if(g.getHashByUrl(e)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(o!==!1&&g.busy()){return g.pushQueue({scope:g,callback:g.replaceState,args:arguments,queue:o}),!1}g.busy(!0);var x=g.createStateObject(w,j,e),v=g.getHashByState(x),q=g.getState(!1),p=g.getHashByState(q),m=g.getStateByIndex(-2);return g.discardState(q,x,m),v===p?(g.storeState(x),g.expectedStateId=x.id,g.recycleState(x),g.setTitle(x),g.saveState(x),g.Adapter.trigger(f,"statechange"),g.busy(!1)):g.pushState(x.data,x.title,x.url,!1),!0}),g.emulated.pushState&&g.getHash()&&!g.emulated.hashChange&&g.Adapter.onDomLoad(function(){g.Adapter.trigger(f,"hashchange")})},typeof g.init!="undefined"&&g.init()}(window),function(y,D){var m=y.console||D,b=y.document,v=y.navigator,E=!1,j=y.setTimeout,C=y.clearTimeout,B=y.setInterval,x=y.clearInterval,q=y.JSON,A=y.alert,w=y.History=y.History||{},g=y.history;try{E=y.sessionStorage,E.setItem("TEST","1"),E.removeItem("TEST")}catch(z){E=!1}q.stringify=q.stringify||q.encode,q.parse=q.parse||q.decode;if(typeof w.init!="undefined"){throw new Error("History.js Core has already been loaded...")}w.init=function(a){return typeof w.Adapter=="undefined"?!1:(typeof w.initCore!="undefined"&&w.initCore(),typeof w.initHtml4!="undefined"&&w.initHtml4(),!0)},w.initCore=function(e){if(typeof w.initCore.initialized!="undefined"){return !1}w.initCore.initialized=!0,w.options=w.options||{},w.options.hashChangeInterval=w.options.hashChangeInterval||100,w.options.safariPollInterval=w.options.safariPollInterval||500,w.options.doubleCheckInterval=w.options.doubleCheckInterval||500,w.options.disableSuid=w.options.disableSuid||!1,w.options.storeInterval=w.options.storeInterval||1000,w.options.busyDelay=w.options.busyDelay||250,w.options.debug=w.options.debug||!1,w.options.initialTitle=w.options.initialTitle||b.title,w.options.html4Mode=w.options.html4Mode||!1,w.options.delayInit=w.options.delayInit||!1,w.intervalList=[],w.clearAllIntervals=function(){var f,d=w.intervalList;if(typeof d!="undefined"&&d!==null){for(f=0;f<d.length;f++){x(d[f])}w.intervalList=null}},w.debug=function(){(w.options.debug||!1)&&w.log.apply(w,arguments)},w.log=function(){var F=typeof m!="undefined"&&typeof m.log!="undefined"&&typeof m.log.apply!="undefined",n=b.getElementById("log"),l,p,G,h,d;F?(h=Array.prototype.slice.call(arguments),l=h.shift(),typeof m.debug!="undefined"?m.debug.apply(m,[l,h]):m.log.apply(m,[l,h])):l="\n"+arguments[0]+"\n";for(p=1,G=arguments.length;p<G;++p){d=arguments[p];if(typeof d=="object"&&typeof q!="undefined"){try{d=q.stringify(d)}catch(r){}}l+="\n"+d+"\n"}return n?(n.value+=l+"\n-----\n",n.scrollTop=n.scrollHeight-n.clientHeight):F||A(l),!0},w.getInternetExplorerMajorVersion=function(){var d=w.getInternetExplorerMajorVersion.cached=typeof w.getInternetExplorerMajorVersion.cached!="undefined"?w.getInternetExplorerMajorVersion.cached:function(){var h=3,f=b.createElement("div"),l=f.getElementsByTagName("i");while((f.innerHTML="<!--[if gt IE "+ ++h+"]><i></i><![endif]-->")&&l[0]){}return h>4?h:!1}();return d},w.isInternetExplorer=function(){var d=w.isInternetExplorer.cached=typeof w.isInternetExplorer.cached!="undefined"?w.isInternetExplorer.cached:Boolean(w.getInternetExplorerMajorVersion());return d},w.options.html4Mode?w.emulated={pushState:!0,hashChange:!0}:w.emulated={pushState:!Boolean(y.history&&y.history.pushState&&y.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(v.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(v.userAgent)),hashChange:Boolean(!("onhashchange" in y||"onhashchange" in b)||w.isInternetExplorer()&&w.getInternetExplorerMajorVersion()<8)},w.enabled=!w.emulated.pushState,w.bugs={setHash:Boolean(!w.emulated.pushState&&v.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(v.userAgent)),safariPoll:Boolean(!w.emulated.pushState&&v.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(v.userAgent)),ieDoubleCheck:Boolean(w.isInternetExplorer()&&w.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(w.isInternetExplorer()&&w.getInternetExplorerMajorVersion()<7)},w.isEmptyObject=function(f){for(var d in f){if(f.hasOwnProperty(d)){return !1}}return !0},w.cloneObject=function(f){var d,h;return f?(d=q.stringify(f),h=q.parse(d)):h={},h},w.getRootUrl=function(){var d=b.location.protocol+"//"+(b.location.hostname||b.location.host);if(b.location.port||!1){d+=":"+b.location.port}return d+="/",d},w.getBaseHref=function(){var f=b.getElementsByTagName("base"),d=null,h="";return f.length===1&&(d=f[0],h=d.href.replace(/[^\/]+$/,"")),h=h.replace(/\/+$/,""),h&&(h+="/"),h},w.getBaseUrl=function(){var d=w.getBaseHref()||w.getBasePageUrl()||w.getRootUrl();return d},w.getPageUrl=function(){var f=w.getState(!1,!1),d=(f||{}).url||w.getLocationHref(),h;return h=d.replace(/\/+$/,"").replace(/[^\/]+$/,function(o,l,p){return/\./.test(o)?o:o+"/"}),h},w.getBasePageUrl=function(){var d=w.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(h,f,l){return/[^\/]$/.test(h)?"":h}).replace(/\/+$/,"")+"/";return d},w.getFullUrl=function(h,d){var l=h,f=h.substring(0,1);return d=typeof d=="undefined"?!0:d,/[a-z]+\:\/\//.test(h)||(f==="/"?l=w.getRootUrl()+h.replace(/^\/+/,""):f==="#"?l=w.getPageUrl().replace(/#.*/,"")+h:f==="?"?l=w.getPageUrl().replace(/[\?#].*/,"")+h:d?l=w.getBaseUrl()+h.replace(/^(\.\/)+/,""):l=w.getBasePageUrl()+h.replace(/^(\.\/)+/,"")),l.replace(/\#$/,"")},w.getShortUrl=function(h){var d=h,l=w.getBaseUrl(),f=w.getRootUrl();return w.emulated.pushState&&(d=d.replace(l,"")),d=d.replace(f,"/"),w.isTraditionalAnchor(d)&&(d="./"+d),d=d.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),d},w.getLocationHref=function(d){return d=d||b,d.URL===d.location.href?d.location.href:d.location.href===decodeURIComponent(d.URL)?d.URL:d.location.hash&&decodeURIComponent(d.location.href.replace(/^[^#]+/,""))===d.location.hash?d.location.href:d.URL.indexOf("#")==-1&&d.location.href.indexOf("#")!=-1?d.location.href:d.URL||d.location.href},w.store={},w.idToState=w.idToState||{},w.stateToId=w.stateToId||{},w.urlToId=w.urlToId||{},w.storedStates=w.storedStates||[],w.savedStates=w.savedStates||[],w.normalizeStore=function(){w.store.idToState=w.store.idToState||{},w.store.urlToId=w.store.urlToId||{},w.store.stateToId=w.store.stateToId||{}},w.getState=function(f,d){typeof f=="undefined"&&(f=!0),typeof d=="undefined"&&(d=!0);var h=w.getLastSavedState();return !h&&d&&(h=w.createStateObject()),f&&(h=w.cloneObject(h),h.url=h.cleanUrl||h.url),h},w.getIdByState=function(f){var d=w.extractId(f.url),h;if(!d){h=w.getStateString(f);if(typeof w.stateToId[h]!="undefined"){d=w.stateToId[h]}else{if(typeof w.store.stateToId[h]!="undefined"){d=w.store.stateToId[h]}else{for(;;){d=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof w.idToState[d]=="undefined"&&typeof w.store.idToState[d]=="undefined"){break}}w.stateToId[h]=d,w.idToState[d]=f}}}return d},w.normalizeState=function(f){var d,h;if(!f||typeof f!="object"){f={}}if(typeof f.normalized!="undefined"){return f}if(!f.data||typeof f.data!="object"){f.data={}}return d={},d.normalized=!0,d.title=f.title||"",d.url=w.getFullUrl(f.url?f.url:w.getLocationHref()),d.hash=w.getShortUrl(d.url),d.data=w.cloneObject(f.data),d.id=w.getIdByState(d),d.cleanUrl=d.url.replace(/\??\&_suid.*/,""),d.url=d.cleanUrl,h=!w.isEmptyObject(d.data),(d.title||h)&&w.options.disableSuid!==!0&&(d.hash=w.getShortUrl(d.url).replace(/\??\&_suid.*/,""),/\?/.test(d.hash)||(d.hash+="?"),d.hash+="&_suid="+d.id),d.hashedUrl=w.getFullUrl(d.hash),(w.emulated.pushState||w.bugs.safariPoll)&&w.hasUrlDuplicate(d)&&(d.url=d.hashedUrl),d},w.createStateObject=function(h,d,l){var f={data:h,title:d,url:l};return f=w.normalizeState(f),f},w.getStateById=function(d){d=String(d);var f=w.idToState[d]||w.store.idToState[d]||D;return f},w.getStateString=function(h){var d,l,f;return d=w.normalizeState(h),l={data:d.data,title:h.title,url:h.url},f=q.stringify(l),f},w.getStateId=function(f){var d,h;return d=w.normalizeState(f),h=d.id,h},w.getHashByState=function(f){var d,h;return d=w.normalizeState(f),h=d.hash,h},w.extractId=function(l){var f,o,h,d;return l.indexOf("#")!=-1?d=l.split("#")[0]:d=l,o=/(.*)\&_suid=([0-9]+)$/.exec(d),h=o?o[1]||l:l,f=o?String(o[2]||""):"",f||!1},w.isTraditionalAnchor=function(f){var d=!/[\/\?\.]/.test(f);return d},w.extractState=function(l,f){var o=null,h,d;return f=f||!1,h=w.extractId(l),h&&(o=w.getStateById(h)),o||(d=w.getFullUrl(l),h=w.getIdByUrl(d)||!1,h&&(o=w.getStateById(h)),!o&&f&&!w.isTraditionalAnchor(l)&&(o=w.createStateObject(null,null,d))),o},w.getIdByUrl=function(d){var f=w.urlToId[d]||w.store.urlToId[d]||D;return f},w.getLastSavedState=function(){return w.savedStates[w.savedStates.length-1]||D},w.getLastStoredState=function(){return w.storedStates[w.storedStates.length-1]||D},w.hasUrlDuplicate=function(f){var d=!1,h;return h=w.extractState(f.url),d=h&&h.id!==f.id,d},w.storeState=function(d){return w.urlToId[d.url]=d.id,w.storedStates.push(w.cloneObject(d)),d},w.isLastSavedState=function(l){var f=!1,o,h,d;return w.savedStates.length&&(o=l.id,h=w.getLastSavedState(),d=h.id,f=o===d),f},w.saveState=function(d){return w.isLastSavedState(d)?!1:(w.savedStates.push(w.cloneObject(d)),!0)},w.getStateByIndex=function(f){var d=null;return typeof f=="undefined"?d=w.savedStates[w.savedStates.length-1]:f<0?d=w.savedStates[w.savedStates.length+f]:d=w.savedStates[f],d},w.getCurrentIndex=function(){var d=null;return w.savedStates.length<1?d=0:d=w.savedStates.length-1,d},w.getHash=function(f){var d=w.getLocationHref(f),h;return h=w.getHashByUrl(d),h},w.unescapeHash=function(f){var d=w.normalizeHash(f);return d=decodeURIComponent(d),d},w.normalizeHash=function(f){var d=f.replace(/[^#]*#/,"").replace(/#.*/,"");return d},w.setHash=function(h,f){var l,d;return f!==!1&&w.busy()?(w.pushQueue({scope:w,callback:w.setHash,args:arguments,queue:f}),!1):(w.busy(!0),l=w.extractState(h,!0),l&&!w.emulated.pushState?w.pushState(l.data,l.title,l.url,!1):w.getHash()!==h&&(w.bugs.setHash?(d=w.getPageUrl(),w.pushState(null,null,d+"#"+h,!1)):b.location.hash=h),w)},w.escapeHash=function(d){var f=w.normalizeHash(d);return f=y.encodeURIComponent(f),w.bugs.hashEscape||(f=f.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),f},w.getHashByUrl=function(f){var d=String(f).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return d=w.unescapeHash(d),d},w.setTitle=function(h){var f=h.title,l;f||(l=w.getStateByIndex(0),l&&l.url===h.url&&(f=l.title||w.options.initialTitle));try{b.getElementsByTagName("title")[0].innerHTML=f.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(d){}return b.title=f,w},w.queues=[],w.busy=function(f){typeof f!="undefined"?w.busy.flag=f:typeof w.busy.flag=="undefined"&&(w.busy.flag=!1);if(!w.busy.flag){C(w.busy.timeout);var d=function(){var l,o,h;if(w.busy.flag){return}for(l=w.queues.length-1;l>=0;--l){o=w.queues[l];if(o.length===0){continue}h=o.shift(),w.fireQueueItem(h),w.busy.timeout=j(d,w.options.busyDelay)}};w.busy.timeout=j(d,w.options.busyDelay)}return w.busy.flag},w.busy.flag=!1,w.fireQueueItem=function(d){return d.callback.apply(d.scope||w,d.args||[])},w.pushQueue=function(d){return w.queues[d.queue||0]=w.queues[d.queue||0]||[],w.queues[d.queue||0].push(d),w},w.queue=function(f,d){return typeof f=="function"&&(f={callback:f}),typeof d!="undefined"&&(f.queue=d),w.busy()?w.pushQueue(f):w.fireQueueItem(f),w},w.clearQueue=function(){return w.busy.flag=!1,w.queues=[],w},w.stateChanged=!1,w.doubleChecker=!1,w.doubleCheckComplete=function(){return w.stateChanged=!0,w.doubleCheckClear(),w},w.doubleCheckClear=function(){return w.doubleChecker&&(C(w.doubleChecker),w.doubleChecker=!1),w},w.doubleCheck=function(d){return w.stateChanged=!1,w.doubleCheckClear(),w.bugs.ieDoubleCheck&&(w.doubleChecker=j(function(){return w.doubleCheckClear(),w.stateChanged||d(),!0},w.options.doubleCheckInterval)),w},w.safariStatePoll=function(){var d=w.extractState(w.getLocationHref()),f;if(!w.isLastSavedState(d)){return f=d,f||(f=w.createStateObject()),w.Adapter.trigger(y,"popstate"),w}return},w.back=function(d){return d!==!1&&w.busy()?(w.pushQueue({scope:w,callback:w.back,args:arguments,queue:d}),!1):(w.busy(!0),w.doubleCheck(function(){w.back(!1)}),g.go(-1),!0)},w.forward=function(d){return d!==!1&&w.busy()?(w.pushQueue({scope:w,callback:w.forward,args:arguments,queue:d}),!1):(w.busy(!0),w.doubleCheck(function(){w.forward(!1)}),g.go(1),!0)},w.go=function(f,d){var h;if(f>0){for(h=1;h<=f;++h){w.forward(d)}}else{if(!(f<0)){throw new Error("History.go: History.go requires a positive or negative integer passed.")}for(h=-1;h>=f;--h){w.back(d)}}return w};if(w.emulated.pushState){var c=function(){};w.pushState=w.pushState||c,w.replaceState=w.replaceState||c}else{w.onPopState=function(f,u){var l=!1,d=!1,h,p;return w.doubleCheckComplete(),h=w.getHash(),h?(p=w.extractState(h||w.getLocationHref(),!0),p?w.replaceState(p.data,p.title,p.url,!1):(w.Adapter.trigger(y,"anchorchange"),w.busy(!1)),w.expectedStateId=!1,!1):(l=w.Adapter.extractEventData("state",f,u)||!1,l?d=w.getStateById(l):w.expectedStateId?d=w.getStateById(w.expectedStateId):d=w.extractState(w.getLocationHref()),d||(d=w.createStateObject(null,null,w.getLocationHref())),w.expectedStateId=!1,w.isLastSavedState(d)?(w.busy(!1),!1):(w.storeState(d),w.saveState(d),w.setTitle(d),w.Adapter.trigger(y,"statechange"),w.busy(!1),!0))},w.Adapter.bind(y,"popstate",w.onPopState),w.pushState=function(f,o,l,d){if(w.getHashByUrl(l)&&w.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(d!==!1&&w.busy()){return w.pushQueue({scope:w,callback:w.pushState,args:arguments,queue:d}),!1}w.busy(!0);var h=w.createStateObject(f,o,l);return w.isLastSavedState(h)?w.busy(!1):(w.storeState(h),w.expectedStateId=h.id,g.pushState(h.id,h.title,h.url),w.Adapter.trigger(y,"popstate")),!0},w.replaceState=function(f,o,l,d){if(w.getHashByUrl(l)&&w.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(d!==!1&&w.busy()){return w.pushQueue({scope:w,callback:w.replaceState,args:arguments,queue:d}),!1}w.busy(!0);var h=w.createStateObject(f,o,l);return w.isLastSavedState(h)?w.busy(!1):(w.storeState(h),w.expectedStateId=h.id,g.replaceState(h.id,h.title,h.url),w.Adapter.trigger(y,"popstate")),!0}}if(E){try{w.store=q.parse(E.getItem("History.store"))||{}}catch(a){w.store={}}w.normalizeStore()}else{w.store={},w.normalizeStore()}w.Adapter.bind(y,"unload",w.clearAllIntervals),w.saveState(w.storeState(w.extractState(w.getLocationHref(),!0))),E&&(w.onUnload=function(){var l,f,o;try{l=q.parse(E.getItem("History.store"))||{}}catch(h){l={}}l.idToState=l.idToState||{},l.urlToId=l.urlToId||{},l.stateToId=l.stateToId||{};for(f in w.idToState){if(!w.idToState.hasOwnProperty(f)){continue}l.idToState[f]=w.idToState[f]}for(f in w.urlToId){if(!w.urlToId.hasOwnProperty(f)){continue}l.urlToId[f]=w.urlToId[f]}for(f in w.stateToId){if(!w.stateToId.hasOwnProperty(f)){continue}l.stateToId[f]=w.stateToId[f]}w.store=l,w.normalizeStore(),o=q.stringify(l);try{E.setItem("History.store",o)}catch(d){if(d.code!==DOMException.QUOTA_EXCEEDED_ERR){throw d}E.length&&(E.removeItem("History.store"),E.setItem("History.store",o))}},w.intervalList.push(B(w.onUnload,w.options.storeInterval)),w.Adapter.bind(y,"beforeunload",w.onUnload),w.Adapter.bind(y,"unload",w.onUnload));if(!w.emulated.pushState){w.bugs.safariPoll&&w.intervalList.push(B(w.safariStatePoll,w.options.safariPollInterval));if(v.vendor==="Apple Computer, Inc."||(v.appCodeName||"")==="Mozilla"){w.Adapter.bind(y,"hashchange",function(){w.Adapter.trigger(y,"popstate")}),w.getHash()&&w.Adapter.onDomLoad(function(){w.Adapter.trigger(y,"hashchange")})}}},(!w.options||!w.options.delayInit)&&w.init()}(window);var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=="undefined"&&typeof navigator!=="undefined"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function isFunction(it){return ostring.call(it)==="[object Function]"}function isArray(it){return ostring.call(it)==="[object Array]"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value==="object"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(err){throw err}function getGlobal(value){if(!value){return value}var g=global;each(value.split("."),function(part){g=g[part]});return g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err}return e}if(typeof define!=="undefined"){return}if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part;for(i=0;i<ary.length;i++){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else{if(part===".."){if(i===0||(i==1&&ary[2]==="..")||ary[i-1]===".."){continue}else{if(i>0){ary.splice(i-1,2);i-=2}}}}}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=(baseName&&baseName.split("/")),map=config.map,starMap=map&&map["*"];if(name){name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}if(name[0].charAt(0)==="."&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}trimDots(name);name=name.join("/")}if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split("/");outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join("/"));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop}}}}if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name}function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true}})}}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.makeRequire(null,{skipMap:true})([id]);return true}}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName="";if(!name){isDefine=false;name="_@r"+(requireCounter+=1)}nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix)}if(name){if(prefix){if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)})}else{normalizedName=name.indexOf("!")===-1?normalize(name,parentName,applyMap):name}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName)}}suffix=prefix&&!pluginModule&&!isNormalized?"_unnormalized"+(unnormalizedCounter+=1):"";return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap)}return mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name==="defined"){fn(defined[id])}}else{mod=getModule(depMap);if(mod.error&&name==="error"){fn(mod.error)}else{mod.on(name,fn)}}}function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err)}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit("error",err)}}});if(!notified){req.onError(err)}}}function takeGlobalQueue(){if(globalDefQueue.length){apsp.apply(defQueue,[defQueue.length,0].concat(globalDefQueue));globalDefQueue=[]}}handlers={require:function(mod){if(mod.require){return mod.require}else{return(mod.require=context.makeRequire(mod.map))}},exports:function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return(defined[mod.map.id]=mod.exports)}else{return(mod.exports=defined[mod.map.id]={})}}},module:function(mod){if(mod.module){return mod.module}else{return(mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})})}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit("error",mod.error)}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check()}else{breakCycle(dep,traced,processed)}}});processed[id]=true}}function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1000,expired=waitInterval&&(context.startTime+waitInterval)<new Date().getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return}inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return}if(!map.isDefine){reqCalls.push(mod)}if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true}else{noLoads.push(modId);removeScript(modId)}}else{if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return(needCycleCheck=false)}}}}});if(expired&&noLoads.length){err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err)}if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{})})}if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded()},50)}}inCheckLoaded=false}Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return}this.factory=factory;if(errback){this.on("error",errback)}else{if(this.events.error){errback=bind(this,function(err){this.emit("error",err)})}}this.depMaps=depMaps&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports}},fetch:function(){if(this.fetched){return}this.fetched=true;context.startTime=(new Date()).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}else{return map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url)}},check:function(){if(!this.enabled||this.enabling){return}var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){this.fetch()}else{if(this.error){this.emit("error",this.error)}else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if((this.events.error&&this.map.isDefine)||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}}else{exports=context.execCb(id,factory,depExports,exports)}if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports}else{if(this.usingExports){exports=this.exports}}}if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?"define":"require";return onError((this.error=err))}}else{exports=factory}this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){req.onResourceLoad(context,this.map,this.depMaps)}}cleanRegistry(id);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,"defined",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true)})||""}normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap);on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:true,ignore:true})}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on("error",bind(this,function(err){this.emit("error",err)}))}normalizedMod.enable()}return}if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return}load=bind(this,function(value){this.init([],function(){return value},null,{enabled:true})});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+"_unnormalized")===0){cleanRegistry(mod.map.id)}});onError(err)});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt}if(hasInteractive){useInteractive=false}getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id]}try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}if(hasInteractive){useInteractive=true}this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load)});plugin.load(map.name,localRequire,load,config)}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap==="string"){depMap=makeModuleMap(depMap,(this.map.isDefine?this.map:this.map.parentMap),false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return}this.depCount+=1;on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports);this.check()}));if(this.errback){on(depMap,"error",bind(this,this.errback))}else{if(this.events.error){on(depMap,"error",bind(this,function(err){this.emit("error",err)}))}}}id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this)}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this)}}));this.enabling=false;this.check()},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[]}cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)});if(name==="error"){delete this.events[name]}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2])}}function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func)}}else{node.removeEventListener(name,func,false)}}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,"load","onreadystatechange");removeListener(node,context.onScriptError,"error");return{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]))}else{callGetModule(args)}}}context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=="/"){cfg.baseUrl+="/"}}var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={}}mixin(config[prop],value,true,true)}else{config[prop]=value}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop}})})}if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value}}if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value)}shim[id]=value});config.shim=shim}if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj==="string"?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location}config.pkgs[name]=pkgObj.name+"/"+(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")})}eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id)}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback)}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments)}return ret||(value.exports&&getGlobal(value.exports))}return fn},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true}if(typeof deps==="string"){if(isFunction(callback)){return onError(makeError("requireargs","Invalid require call"),errback)}if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id])}if(req.get){return req.get(context,deps,relMap,localRequire)}map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){return onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))}return defined[id]}intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded()});return localRequire}mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative=segment==="."||segment==="..";if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index)}return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id)},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id)}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1)}});if(mod){if(mod.events.defined){undefEvents[id]=mod.events}cleanRegistry(id)}}}return localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable()}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break}found=true}else{if(args[0]===moduleName){found=true}}callGetModule(args)}mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return}else{return onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]))}}else{callGetModule([moduleName,(shim.deps||[]),shim.exportsFn])}}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain}bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt)}if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||"")}else{paths=config.paths;syms=moduleName.split("/");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join("/");parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0]}syms.splice(0,i,parentPath);break}}url=syms.join("/");url+=(ext||(/^data\:|\?/.test(url)||skipExt?"":".js"));url=(url.charAt(0)==="/"||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type==="load"||(readyRegExp.test((evt.currentTarget||evt.srcElement).readyState))){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){return onError(makeError("scripterror","Script error for: "+data.id,evt,[data.id]))}}};context.require=context.makeRequire();return context}req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!=="string"){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional}else{deps=[]}}if(config&&config.context){contextName=config.context}context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName)}if(config){context.configure(config)}return context.require(deps,callback,errback)};req.config=function(config){return req(config)};req.nextTick=typeof setTimeout!=="undefined"?function(fn){setTimeout(fn,4)}:function(fn){fn()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");node.type=config.scriptType||"text/javascript";node.charset="utf-8";node.async=true;return node};req.load=function(context,moduleName,url){var config=(context&&context.config)||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute("data-requirecontext",context.contextName);node.setAttribute("data-requiremodule",moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;node.attachEvent("onreadystatechange",context.onScriptLoad)}else{node.addEventListener("load",context.onScriptLoad,false);node.addEventListener("error",context.onScriptError,false)}node.src=url;currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement)}else{head.appendChild(node)}currentlyAddingScript=null;return node}else{if(isWebWorker){try{importScripts(url);context.completeLoad(moduleName)}catch(e){context.onError(makeError("importscripts","importScripts failed for "+moduleName+" at "+url,e,[moduleName]))}}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),function(script){if(script.readyState==="interactive"){return(interactiveScript=script)}});return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode}dataMain=script.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(name,deps,callback){var node,context;if(typeof name!=="string"){callback=deps;deps=name;name=null}if(!isArray(deps)){callback=deps;deps=null}if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)});deps=(callback.length===1?["require"]:["require","exports","module"]).concat(deps)}}if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute("data-requiremodule")}context=contexts[node.getAttribute("data-requirecontext")]}}(context?context.defQueue:globalDefQueue).push([name,deps,callback])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)}(this));(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}if(typeof JSON.format!=="function"){var repeat=function(s,count){return new Array(count+1).join(s)};JSON.format=function(json,cr){json=this.stringify(json);var i=0,il=0,tab="\t",output="",indentLevel=0,inString=false,currentChar=null;for(i=0,il=json.length;i<il;i+=1){currentChar=json.charAt(i);switch(currentChar){case"{":case"[":if(!inString){output+=currentChar+"\n"+repeat(tab,indentLevel+1);indentLevel+=1}else{output+=currentChar}break;case"}":case"]":if(!inString){indentLevel-=1;output+="\n"+repeat(tab,indentLevel)+currentChar}else{output+=currentChar}break;case",":if(!inString){output+=",\n"+repeat(tab,indentLevel)}else{output+=currentChar}break;case":":if(!inString){output+=": "}else{output+=currentChar}break;case" ":case"\n":case"\t":if(inString){output+=currentChar}break;case'"':if(i>0&&json.charAt(i-1)!=="\\"){inString=!inString}output+=currentChar;break;default:output+=currentChar;break}}if(cr){output=output.replace(/\n/g,"\r\n")}return output}}}());(function(){Date.prototype.format=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var a in c){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length==1?c[a]:("00"+c[a]).substr((""+c[a]).length))}}return b};Date.prototype.ago=function(){if(!arguments.length){return""}var r=arguments,b=this.getTime(),n=!isNaN(r[0])?r[0]:new Date(r[0]).getTime(),h=b-n,s="",c=1000*60,d=c*60,l=d*24,p=l*15,g=l*30,j=g*12,e=h/j,m=h/g,o=h/(7*l),q=h/l,a=h/d,f=h/c;if(e>=1){s=parseInt(e)+""}else{if(m>=1){s=parseInt(m)+""}else{if(o>=1){s=parseInt(o)+""}else{if(q>=1){s=parseInt(q)+""}else{if(a>=1){s=parseInt(a)+""}else{if(f>=1){s=parseInt(f)+""}else{s=""}}}}}}return s}})();(function(){var a=this._||require("underscore");a.proxy=function(d,c){return function(){var e=arguments;return d.apply(c,e)}};var b=function(c){this.init=c;this.privates={};this.publics={};this.overwriten=true;this.version="1.0";this.worksion="Series.Class";var e=this,d=function(){var h=a.clone(e.privates),g=a.clone(e.publics),f=this;a.each(g,function(l,j){f[j]=a.isFunction(l)?a.proxy(l,f):l});g=undefined;a.each(h,function(l,j){if(a.isFunction(l)){h[j]=a.proxy(l,h)}});this["private"]=function(j){return h[j]};this.property=function(j,l){h[j]=l;return this};e.init&&e.init.apply(this,arguments)};a.each(["private","public","define","property","instance","extend","worksion","privates","publics"],function(f){d[f]=a.isFunction(e[f])?a.proxy(e[f],e):e[f]});d.prototype.version=this.version;d.prototype.worksion=this.worksion;return d};b.prototype["private"]=function(c){return this.privates[c]};b.prototype["public"]=function(c){return this.publics[c]};b.prototype.define=function(d,c){this.publics[d]=c;return this};b.prototype.property=function(d,c){this.privates[d]=c;return this};b.prototype.instance=function(c){if(c.worksion&&c.worksion===this.worksion){c=c.privates}else{if(a.isPlainObject(c)){c=c}else{throw new Error("defintion can not been instance.")}}var d=this;a.each(c,function(f,e){if((d.privates[e]&&d.overwriten)||(a.isUndefined(d.privates[e]))){d.privates[e]=f}});return this};b.prototype.extend=function(c){if(c.worksion&&c.worksion===this.worksion){c=c.publics}else{if(a.isPlainObject(c)){c=c}else{throw new Error("defintion can not been extend.")}}var d=this;a.each(c,function(f,e){if((d.publics[e]&&d.overwriten)||(a.isUndefined(d.publics[e]))){d.publics[e]=f}});return this};b.prototype.overwrite=function(c){this.overwriten=!!c};this.Class=b}).call(this);(function(c,d){var b=c._||require("underscore");function e(o,l){var j=0;for(var m=o.length-1;m>=0;m--){var n=o[m];if(n==="."){o.splice(m,1)}else{if(n===".."){o.splice(m,1);j++}else{if(j){o.splice(m,1);j--}}}}if(l){for(;j--;j){o.unshift("..")}}return o}var h=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var f=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;var a=function(l){var j=h.exec(l),q=(j[1]||"")+(j[2]||""),o=j[3]||"";var n=f.exec(o),m=n[1],r=n[2],p=n[3];return[q,m,r,p]};var g=function(j){return"\\\\"+j.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")};this.resolve=function(){var m="",q="",t=false;for(var l=arguments.length-1;l>=-1;l--){var s;if(l>=0){s=arguments[l]}else{if(!m){s=d.process.cwd()}else{s=d.process.env["="+m];if(!s||s.substr(0,3).toLowerCase()!==m.toLowerCase()+"\\"){s=m+"\\"}}}if(!b.isString(s)){throw new TypeError("Arguments to path.resolve must be strings")}else{if(!s){continue}}var u=h.exec(s),j=u[1]||"",r=j&&j.charAt(1)!==":",o=this.isAbsolute(s),p=u[3];if(j&&m&&j.toLowerCase()!==m.toLowerCase()){continue}if(!m){m=j}if(!t){q=p+"\\"+q;t=o}if(m&&t){break}}if(r){m=g(m)}function n(v){return !!v}q=e(q.split(/[\\\/]+/).filter(n),!t).join("\\");return(m+(t?"\\":"")+q)||"."};this.normalize=function(p){var j=h.exec(p),n=j[1]||"",q=n&&n.charAt(1)!==":",o=this.isAbsolute(p),l=j[3],m=/[\\\/]$/.test(l);if(n&&n.charAt(1)===":"){n=n[0].toLowerCase()+n.substr(1)}l=e(l.split(/[\\\/]+/).filter(function(r){return !!r}),!o).join("\\");if(!l&&!o){l="."}if(l&&m){l+="\\"}if(q){n=g(n)}return n+(o?"\\":"")+l};this.isAbsolute=function(m){var j=h.exec(m),l=j[1]||"",n=!!l&&l.charAt(1)!==":";return !!j[2]||n};this.join=function(){function l(n){if(!b.isString(n)){throw new TypeError("Arguments to path.join must be strings")}return n}var m=Array.prototype.filter.call(arguments,l);var j=m.join("\\");if(!/^[\\\/]{2}[^\\\/]/.test(m[0])){j=j.replace(/^[\\\/]{2,}/,"\\")}return this.normalize(j)};this.relative=function(t,u){t=this.resolve(t);u=this.resolve(u);var r=t.toLowerCase();var s=u.toLowerCase();function m(w){var y=0;for(;y<w.length;y++){if(w[y]!==""){break}}var x=w.length-1;for(;x>=0;x--){if(w[x]!==""){break}}if(y>x){return[]}return w.slice(y,x+1)}var l=m(u.split("\\"));var o=m(r.split("\\"));var q=m(s.split("\\"));var j=Math.min(o.length,q.length);var v=j;for(var p=0;p<j;p++){if(o[p]!==q[p]){v=p;break}}if(v==0){return u}var n=[];for(var p=v;p<o.length;p++){n.push("..")}n=n.concat(l.slice(v));return n.join("\\")};this.sep="/";this.delimiter=";";this.dirname=function(n){var j=a(n),l=j[0],m=j[1];if(!l&&!m){return"."}if(m){m=m.substr(0,m.length-1)}return l+m};this.basename=function(m,j){var l=a(m)[2];if(j&&l.substr(l.length-j.length)===j){l=l.substr(0,l.length-j.length)}return l};this.extname=function(j){return a(j)[3]}}).call(series.path,window,series);(function(){var _=this._,jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;var ajax=function(options){var settings=extend({},options||{});for(key in ajax.settings){if(settings[key]===undefined){settings[key]=ajax.settings[key]}}ajaxStart(settings);if(!settings.crossDomain){settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host}var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder){if(!hasPlaceholder){settings.url=appendQuery(settings.url,"callback=?")}return ajax.JSONP(settings)}if(!settings.url){settings.url=window.location.toString()}serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=ajax.settings.xhr(),abortTimeout;if(!settings.crossDomain){baseHeaders["X-Requested-With"]="XMLHttpRequest"}if(mime){baseHeaders.Accept=mime;if(mime.indexOf(",")>-1){mime=mime.split(",",2)[0]}xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||(settings.data&&settings.type.toUpperCase()!="GET")){baseHeaders["Content-Type"]=(settings.contentType||"application/x-www-form-urlencoded")}settings.headers=extend(baseHeaders,settings.headers||{});xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=false;if((xhr.status>=200&&xhr.status<300)||xhr.status==304||(xhr.status==0&&protocol=="file:")){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script"){(1,eval)(result)}else{if(dataType=="xml"){result=xhr.responseXML}else{if(dataType=="json"){result=blankRE.test(result)?null:JSON.parse(result)}}}}catch(e){error=e}if(error){ajaxError(error,"parsererror",xhr,settings)}else{ajaxSuccess(result,xhr,settings)}}else{ajaxError(null,"error",xhr,settings)}}};var async="async" in settings?settings.async:true;xhr.open(settings.type,settings.url,async);for(name in settings.headers){xhr.setRequestHeader(name,settings.headers[name])}if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();return false}if(settings.timeout>0){abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings)},settings.timeout)}xhr.send(settings.data?settings.data:null);return xhr};function triggerAndReturn(context,eventName,data){return true}function triggerGlobal(settings,context,eventName,data){if(settings.global){return triggerAndReturn(context||document,eventName,data)}}ajax.active=0;function ajaxStart(settings){if(settings.global&&ajax.active++===0){triggerGlobal(settings,null,"ajaxStart")}}function ajaxStop(settings){if(settings.global&&!(--ajax.active)){triggerGlobal(settings,null,"ajaxStop")}}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false){return false}triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings){var context=settings.context;settings.error.call(context,xhr,type,error);triggerGlobal(settings,context,"ajaxError",[xhr,settings,error]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}ajax.JSONP=function(options){if(!("type" in options)){return ajax(options)}var callbackName="jsonp"+(++jsonpID),script=document.createElement("script"),abort=function(){if(callbackName in window){window[callbackName]=empty}ajaxComplete("abort",xhr,options)},xhr={abort:abort},abortTimeout,head=document.getElementsByTagName("head")[0]||document.documentElement;if(options.error){script.onerror=function(){xhr.abort();options.error()}}window[callbackName]=function(data){clearTimeout(abortTimeout);delete window[callbackName];ajaxSuccess(data,xhr,options)};serializeData(options);script.src=options.url.replace(/=\?/,"="+callbackName);head.insertBefore(script,head.firstChild);if(options.timeout>0){abortTimeout=setTimeout(function(){xhr.abort();ajaxComplete("timeout",xhr,options)},options.timeout)}return xhr};ajax.settings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest()},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0};function mimeToDataType(mime){return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(_.isObject(options.data)){options.data=param(options.data)}if(options.data&&(!options.type||options.type.toUpperCase()=="GET")){options.url=appendQuery(options.url,options.data)}}ajax.get=function(url,success){return ajax({url:url,success:success})};ajax.post=function(url,data,success,dataType){if(_.isFunction(data)){dataType=dataType||success,success=data,data=null}return ajax({type:"POST",url:url,data:data,success:success,dataType:dataType})};ajax.getJSON=function(url,success){return ajax({url:url,success:success,dataType:"json"})};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var array=_.isArray(obj);for(var key in obj){var value=obj[key];if(scope){key=traditional?scope:scope+"["+(array?"":key)+"]"}if(!scope&&array){params.add(value.name,value.value)}else{if(traditional?_.isArray(value):_.isObject(value)){serialize(params,value,traditional,key)}else{params.add(key,value)}}}}function param(obj,traditional){var params=[];params.add=function(k,v){this.push(escape(k)+"="+escape(v))};serialize(params,obj,traditional);return params.join("&").replace("%20","+")}function extend(target){var slice=Array.prototype.slice;slice.call(arguments,1).forEach(function(source){for(key in source){if(source[key]!==undefined){target[key]=source[key]}}});return target}series.ajax=ajax}).call(this);(function(a){var b=a.request=function(){this._init()};b.prototype.query={};b.prototype._query=function(c){var d=(c||window.location.href).split("?");if(d.length===2){var e=d[1];if(/^\&/.test(e)){e=e.replace(/^\&/,"")}d=_.fromQuery(e)}else{d={}}this.query=d};b.prototype.redirect=function(c){window.location.href=c};b.prototype._cookies=function(c){if(c){this.cookies=_.fromQuery($.cookie(c))}else{_.each($.cookie(),function(e,d){if(e.indexOf("&")>-1){req.cookies[d]=_.fromQuery(e)}else{req.cookies[d]=e}})}next()};b.prototype._init=function(){this.hash=window.location.hash+"";this.host=window.location.host+"";this.url=window.location.href+"";this.port=window.location.port+"";this.protocol=window.location.protocol+"";this.path=window.location.pathname+"";this._query()}}).call(this,series);(function(d){var c=this._;var a=function(){var g={ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null};var e={ie:0,firefox:0,konq:0,opera:0,chrome:0,safari:0,ver:null};var h={win:false,mac:false,xll:false,iphone:false,ipod:false,nokiaN:false,winMobile:false,macMobile:false,wii:false,ps:false};var f=navigator.userAgent;if(window.opera){g.ver=e.ver=window.opera.version();g.opera=e.opera=parseFloat(g.ver)}else{if(/AppleWebKit\/(\S+)/.test(f)){g.ver=RegExp["$1"];g.webkit=parseFloat(g.ver);if(/Chrome\/(\S+)/.test(f)){e.ver=RegExp["$1"];e.chrome=parseFloat(e.ver)}else{if(/Version\/(\S+)/.test(f)){e.ver=RegExp["$1"];e.safari=parseFloat(e.ver)}else{var l=1;if(g.webkit<100){l=1}else{if(g.webkit<312){l=1.2}else{if(g.webkit<412){l=1.3}else{l=2}}}e.safari=e.ver=l}}}else{if(/KHTML\/(\S+)/.test(f)||/Konquersor\/([^;]+)/.test(f)){g.ver=e.ver=RegExp["$1"];g.khtml=e.kong=paresFloat(g.ver)}else{if(/rv:([^\)]+)\) Gecko\/\d{8}/.test(f)){g.ver=RegExp["$1"];g.gecko=parseFloat(g.ver);if(/Firefox\/(\S+)/.test(f)){e.ver=RegExp["$1"];e.firefox=pareseFloat(e.ver)}}else{if(/MSIE([^;]+)/.test(f)){e.ver=RegExp["$1"];e.firefox=parseFloat(e.ver)}}}}}e.ie=g.ie;e.opera=g.opera;var j=navigator.platform;h.win=j.indexOf("Win")==0;h.mac=j.indexOf("Mac")==0;h.x11=(j=="X11")||(j.indexOf("Linux")==0);if(h.win){if(/Win(?:doms)?([^do]{2})\s?(\d+\.\d+)?/.test(f)){if(RegExp["$1"]=="NT"){switch(RegExp["$2"]){case"5.0":h.win="2000";break;case"5.1":h.win="XP";break;case"6.0":h.win="Vista";break;default:h.win="NT";break}}else{if(RegExp["$1"]){h.win="ME"}else{h.win=RegExp["$1"]}}}}h.iphone=f.indexOf("iPhone")>-1;h.ipod=f.indexOf("iPod")>-1;h.nokiaN=f.indexOf("NokiaN")>-1;h.winMobile=(h.win=="CE");h.macMobile=(h.iphone||h.ipod);h.wii=f.indexOf("Wii")>-1;h.ps=/playstation/i.test(f);return{engine:g,browser:e,system:h}}();var b=this.location.href.replace(/#.+/,"").split("/").slice(3,-1).join("/");d.process=c.noop;d.process.env=a;d.process.env.SERIES_ENV="production";d.process.version="1.0.1";d.process.createServer=function(e){require([application],function(f){f()})};d.process.worker=b.length>0?"/"+b+"/":"/";d.process.cwd=function(){return d.process.worker};d.process.chdir=function(e){d.process.worker=e}}).call(this,series);(function(g){var m=this._,h=m.isArray;var d=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");function l(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function j(n,o){n.keys=o;return n}function b(n){return n.sensitive?"":"i"}function c(q,p){var n=q.source.match(/\((?!\?)/g);if(n){for(var o=0;o<n.length;o++){p.push({name:o,delimiter:null,optional:false,repeat:false})}}return j(q,p)}function a(s,p,n){var r=[];for(var o=0;o<s.length;o++){r.push(e(s[o],p,n).source)}var q=new RegExp("(?:"+r.join("|")+")",b(n));return j(q,p)}function f(q,p){var n=0;function o(x,r,t,w,A,v,y,z){if(r){return r}if(z){return"\\"+z}var s=y==="+"||y==="*";var u=y==="?"||y==="*";p.push({name:w||n++,delimiter:t||"/",optional:u,repeat:s});t=t?("\\"+t):"";A=l(A||v||"[^"+(t||"\\/")+"]+?");if(s){A=A+"(?:"+t+A+")*"}if(u){return"(?:"+t+"("+A+"))?"}return t+"("+A+")"}return q.replace(d,o)}function e(t,s,r){s=s||[];if(!h(s)){r=s;s=[]}else{if(!r){r={}}}if(t instanceof RegExp){return c(t,s,r)}if(h(t)){return a(t,s,r)}var p=r.strict;var o=r.end!==false;var q=f(t,s);var n=t.charAt(t.length-1)==="/";if(!p){q=(n?q.slice(0,-2):q)+"(?:\\/(?=$))?"}if(o){q+="$"}else{q+=p&&n?"":"(?=\\/|$)"}return j(new RegExp("^"+q,b(r)),s)}g.pathToRegexp=e}).call(this,series);(function(d){var g=Object.prototype.hasOwnProperty,e=d.pathToRegexp;function h(m,j,l){if(!(this instanceof h)){return new h(m,j,l)}j=j||{};this.handle=l;this.name=l.name||"<anonymous>";this.params=undefined;this.path=undefined;this.regexp=e(m,this.keys=[],j);if(m==="/"&&j.end===false){this.regexp.fast_slash=true}}h.prototype.handle_error=function b(j,p,l,n){var m=this.handle;if(m.length!==4){return n(j)}try{m(j,p,l,n)}catch(o){n(o)}};h.prototype.handle_request=function f(o,j,m){var l=this.handle;if(l.length>3){return m()}try{l(o,j,m)}catch(n){m(n)}};h.prototype.match=function a(v){if(v==null){this.params=undefined;this.path=undefined;return false}if(this.regexp.fast_slash){this.params={};this.path="";return true}var p=this.regexp.exec(v);if(!p){this.params=undefined;this.path=undefined;return false}this.params={};this.path=p[0];var u=this.keys;var q=this.params;var j;var l=0;var t;var o;for(var r=1,s=p.length;r<s;++r){t=u[r-1];j=t?t.name:l++;o=c(p[r]);if(o!==undefined||!(g.call(q,j))){q[j]=o}}return true};function c(m){if(typeof m!=="string"){return m}try{return decodeURIComponent(m)}catch(l){var j=new TypeError("Failed to decode param '"+m+"'");j.status=400;throw j}}d.Layer=h}).call(this,series);(function(c){var b=this._;var a=c.middleware=new Class(function(d){this.context=d?d:this});a.property("routes",[]);a.define("use",function(d){this["private"]("routes").push(d);return this});a.define("parse",function(h,f){var d=this["private"]("routes");var e=[],g=this;b.each(d,function(){e.push(new Promise(function(l,j){b.isFunction(d[i])&&d[i].call(g.context,h,f,l,j)}))});return e})}).call(this,series);(function(f){var e=this._,h=f.Layer,b=f.middleware,a=[],c={},g={},d={};f.Route=g;f.RouteMethods=d;e.each(f.methods,function(j){d[j]=function(){var l={},p=f.express(),n=arguments[0],r=arguments[arguments.length-1],q=e.flatten(Array.prototype.slice.call(arguments,1,-1)),o=new b(p),m=new h(n,{sensitive:p.get("sensitive"),strict:p.get("strict"),end:true},r);if(!e.isArray(c[j])){c[j]=[]}e.each(q,function(s){o.use(s)});l.path=n;l.method=j;l.middleware=o;l.layer=m;l.keys=m.keys;l.callback=m.handle;l.regexp=m.regexp;c[j].push(l)}});g.find=function(n,q){if(f.methods.indexOf(q)>-1){var j=c[q],o=null,p={};for(var m=0;m<j.length;m++){var l=j[m];if(l.layer.match(n)){o=l;break}}if(!e.isNull(o)){return{status:200,route:o,params:o.layer.params}}else{return{status:404}}}else{throw new Error("express router error: HTTP METHOD["+q+"] IS UNKNOW")}};g.use=function(l,n){if(e.isFunction(l)){n=l;l="/"}if(e.isString(l)){l=f.path.resolve(f.process.cwd(),l.replace(/\/$/,"")+"/:route*").replace(/\\/g,"/")}n.name="ProcessMiddleWare";var m=f.express();var j=new h(l,{sensitive:m.get("sensitive"),strict:m.get("strict"),end:false},n);a.push(j)};g.listen=function(l,r,q){var j=a,n=false,s=[],m=f.express();for(var o=0;o<j.length;o++){var p=j[o];s.push(new Promise(function(u,t){if(p.match(l)){r.params=p.params;if(e.isFunction(p.handle)){try{p.handle.call(m,r,q,u,t)}catch(v){t(v)}}else{u()}}else{u()}}))}return s}}).call(this,series);(function(c){var b=this._,a=this.require,e=this.History;var d=c.Layout=function(f,g){this.pather=f;this.title=g;this.app=c.express();this.setup()};d.prototype.setup=function(){var g=new c.request(),f=new c.response();g._query(this.pather);var h=this.pather.split("#");g.hash=h.length>1?h[1]:"";g.host=window.location.host+"";g.url=c.path.resolve(c.process.cwd(),this.pather).replace(/\\/g,"/");g.port=window.location.port+"";g.protocol=window.location.protocol+"";g.path=g.url;this.req=g;this.res=f};d.prototype.getHTML=function(f){var g=this;return new Promise(function(j,h){c.ajax({url:f,dataType:"html",success:function(l){j(l)},error:function(l){h(l)}})})};d.prototype.render=function(j,g,p){var h=c.express();var f=h.get("render engine ext");var o=this,n,m;var l=document.getElementById(h.get("replace elemnt"));if(!p){p={}}this.getHTML(c.path.resolve(c.path.dirname(h.path),j)+"."+f).then(function(q){n=q;return o.getScriptor(c.path.resolve(c.path.dirname(h.path),g))}).then(function(q){m=q;l.innerHTML=n;l.style.display="none"}).then(function(){return new Promise(function(r,q){if(m.worksion==="Series.Class"){new m(l,o.req,o.res,r,q)}else{if(b.isFunction(m)){m.call(l,o.req,o.res,r,q)}}})}).then(function(u){var s=h.get("replace elemnt"),v=function(x,w){l.innerHTML=w};var q=b.extend(u,h.locals);p.locals=q;var r=p.cache||h.get("view cache");var t=h.get("render engine");t.call(t,s,p,v)}).then(function(){var q=h.get("in animate");if(q){return new Promise(function(s,r){q.call(l,s,r)})}else{l.style.display="block"}}).then(function(){b.isFunction(l.onload)&&l.onload.call(l)})};d.prototype.getScriptor=function(f){var g=this;return new Promise(function(j,h){a([f],function(l){j(l)})})};d.prototype.listen=function(){if(this.app.enabled("use history")){e.pushState({path:this.req.path},this.title,this.pather)}}}).call(this,series);(function(h){var o=this._,d=h.methods,g=this.History,m=h.Layout,l=h.Route,p=g.getState(),c={};var a={dev:h.process.env.SERIES_ENV==="development"};var j=new h.request();c.install=false;c.installURI=null;c.location=o.clone(window.location);c.path=h.process.cwd();function b(s,q,r){if(s.addEventListener){s.addEventListener(q,r,false)}else{if(s.attachEvent){s.attachEvent("on"+q,r)}else{s["on"+q]=r}}}var f=c.getLocationDomain=function(){if(window.location.origin){return window.location.origin}else{var q=window.location;return q.protocol+"//"+q.hostname}};var n=function(q,r,s){b(q,r,function(t){var v=t||window.event;var u=v.srcElement||v.target;if(u.tagName.toLowerCase()==="a"){o.isFunction(s)&&s.call(u,v)}})};var e={"replace elemnt":"wrap","in animate":null,env:h.process.env.SERIES_ENV,"use history":true,"case sensitive routing":false,"strict routing":false,"view cache":a.dev?false:true,"view engine":"ojs",views:"/views","render engine":null,"render engine ext":"ojs"};c.locals=function(q,s){var r=this;if(!s){o.each(q,function(t,u){r.locals[u]=t})}else{r.locals[q]=s}};c.set=function(q,r){e[q]=r;return this};c.get=function(){if(arguments.length===1){return e[arguments[0]]}else{h.RouteMethods.get.apply(h.RouteMethods,arguments)}};c.version="1.0.155";c.enable=function(q){return this.set(q,true)};c.disable=function(q){return this.set(q,false)};c.enabled=function(q){return !!this.get(q)};c.disabled=function(q){return !this.get(q)};c.engine=function(q,r){this.set("render engine",r);this.set("render engine ext",q)};c.use=function(){l.use.apply(l,arguments);return this};c.listenState=function(){var q=this;g.Adapter.bind(window,"statechange",function(){var s=g.getState();if(s&&s.url){var r=s.url;var t=r.split("/");if(/^http|https/i.test(r)){if(t.slice(0,3).join("/").toLowerCase()===f().toLowerCase()){q.createUIView(h.path.resolve(q.path,"/"+r.split("/").slice(3).join("/")).replace(/\\/g,"/"))}else{window.location.href=r}}else{q.createUIView(h.path.resolve(q.path,r))}}})};c.createWindow=function(q,r){if(this.enabled("use history")){g.pushState({url:q,title:r},r,q)}else{this.createUIView(q)}};c.resolveWindow=function(r,t,u){var s=r.split("/");t=document.title||"";if(/^http|https/i.test(r)){var q=h.path.resolve(this.path,"/"+r.split("/").slice(3).join("/")).replace(/\\/g,"/");if(s.slice(0,3).join("/").toLowerCase()===this.getLocationDomain().toLowerCase()){this.createWindow(q,t)}}else{this.createWindow(r,t)}};c.resolveAchors=function(){var q=this;b(document.getElementById(this.get("replace elemnt")),"click",function(t){var w=t||window.event;var v=w.srcElement||w.target;if(v.tagName.toLowerCase()==="a"){var s=v.href;var u=s.split("/");title=document.title||"";if(/^http|https/i.test(s)){var r=h.path.resolve(q.path,"/"+s.split("/").slice(3).join("/")).replace(/\\/g,"/");if(u.slice(0,3).join("/").toLowerCase()===f().toLowerCase()){if(w&&w.preventDefault){w.preventDefault();q.createWindow(r,title)}else{window.event.returnValue=false;q.createWindow(r,title);return false}}}else{if(w&&w.preventDefault){w.preventDefault();q.createWindow(s,title)}else{window.event.returnValue=false;q.createWindow(s,title);return false}}}})};c.createUIView=function(q,v){var u=new m(q,v);var t=u.req;var r=u.res;var s=this;Promise.all(l.listen(q,t,r)).then(function(){var w=l.find(q,"get");if(w.status===200){t.params=w.params;Promise.all(w.route.middleware.parse(t,r)).then(function(){c.location=t;c.path=t.path;o.isFunction&&w.route.layer.handle.call(u,t,r,u)})["catch"](function(x){throw new Error("Series Web Application Error On Express.CreateUIView: "+x.message)})}else{window.location.href=q}})["catch"](function(w){throw new Error("Series Web Application Error On Express.CreateUIView: "+w.message)})};c.listen=function(){if(!this.get("render engine")){throw new Error("express error: need template engine.")}else{if(this.enabled("use history")){this.listenState()}this.resolveAchors();if(this.installURI){this.createWindow(this.installURI,document.title)}}};h.express=function(r){if(!c.install&&r){c.installURI=h.path.resolve(c.path,r).replace(/\\/g,"/")}if(j.query._suid&&!c.install){var q=j.hash.replace(/^\#/,"").split("?"),s=q[0]+"";q=q.length>1?q[1]:null;c.installURI=h.path.resolve(c.path,s).replace(/\\/g,"/");c.installURI+=q?"?"+q+"&_in=ready":"?_in=ready";c.install=true}return c}}).call(this,series);(function(c){var b=this._,a=c.response=b.noop,e=c.express(),d=this.History;a.prototype.redirect=function(h){var g=h;var j=g.split("/");title=document.title||"";if(/^http|https/i.test(g)){var f=c.path.resolve(that.path,"/"+g.split("/").slice(3).join("/")).replace(/\\/g,"/");if(j.slice(0,3).join("/").toLowerCase()===e.getLocationDomain().toLowerCase()){e.createWindow(f,title)}}else{e.createWindow(g,title)}}}).call(this,series);if(!_.trim){_.trim=function(a){if(_.isString(a)){return a.trim()}else{return a}}};