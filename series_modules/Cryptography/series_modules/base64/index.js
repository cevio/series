(function(a){if(typeof exports=="object"||typeof exports==="function"&&typeof module=="object"){module.exports=a()}else{if(typeof define=="function"&&define.amd){return define([],a)}else{window.Base64=a()}}})(function(){var b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];var c=function(g){var h=new Array();while(g>0){var f=g%2;g=Math.floor(g/2);h.push(f)}h.reverse();return h};var a=function(k){var j=0;var h=0;for(var g=k.length-1;g>=0;--g){var f=k[g];if(f==1){j+=Math.pow(2,h)}++h}return j};var e=function(q,f){var h=(8-(q+1))+((q-1)*6);var g=f.length;var r=h-g;while(--r>=0){f.unshift(0)}var l=[];var p=q;while(--p>=0){l.push(1)}l.push(0);var m=0,o=8-(q+1);for(;m<o;++m){l.push(f[m])}for(var k=0;k<q-1;++k){l.push(1);l.push(0);var n=6;while(--n>=0){l.push(f[m++])}}return l};var d={encode:function(o){var h=[];var f=[];for(var l=0,n=o.length;l<n;++l){var g=o.charCodeAt(l);var r=c(g);if(g<128){var j=8-r.length;while(--j>=0){r.unshift(0)}f=f.concat(r)}else{if(g>=128&&g<=2047){f=f.concat(e(2,r))}else{if(g>=2048&&g<=65535){f=f.concat(e(3,r))}else{if(g>=65536&&g<=2097151){f=f.concat(e(4,r))}else{if(g>=2097152&&g<=67108863){f=f.concat(e(5,r))}else{if(g>=4000000&&g<=2147483647){f=f.concat(e(6,r))}}}}}}}var q=0;for(var l=0,n=f.length;l<n;l+=6){var p=(l+6)-n;if(p==2){q=2}else{if(p==4){q=4}}var k=q;while(--k>=0){f.push(0)}h.push(a(f.slice(l,l+6)))}var m="";for(var l=0,n=h.length;l<n;++l){m+=b[h[l]]}for(var l=0,n=q/2;l<n;++l){m+="="}return m},decode:function(u){var s=u.length;var v=0;if(u.charAt(s-1)=="="){if(u.charAt(s-2)=="="){v=4;u=u.substring(0,s-2)}else{v=2;u=u.substring(0,s-1)}}var f=[];for(var m=0,o=u.length;m<o;++m){var r=u.charAt(m);for(var l=0,x=b.length;l<x;++l){if(r==b[l]){var p=c(l);var w=p.length;if(6-w>0){for(var h=6-w;h>0;--h){p.unshift(0)}}f=f.concat(p);break}}}if(v>0){f=f.slice(0,f.length-v)}var g=[];var t=[];for(var m=0,o=f.length;m<o;){if(f[m]==0){g=g.concat(a(f.slice(m,m+8)));m+=8}else{var n=0;while(m<o){if(f[m]==1){++n}else{break}++m}t=t.concat(f.slice(m+1,m+8-n));m+=8-n;while(n>1){t=t.concat(f.slice(m+2,m+8));m+=8;--n}g=g.concat(a(t));t=[]}}var q="";for(var m=0,o=g.length;m<o;++m){q+=String.fromCharCode(g[m])}return q}};d.base64OrBin=function(h){var f=new ActiveXObject("Microsoft.XMLDOM");var g=f.createElement("obj");g.dataType="bin.base64";h="string"==typeof h?(g.text=h,g.nodeTypedValue):(g.nodeTypedValue=h,g.text);g=f=null;return h};d.enfile=function(h){var g=fs.readFile(h,{encoding:"buffer"});var f=this.base64OrBin(g);return f};d.defile=function(g,h){var f=this.base64OrBin(g);fs.writeFile(h,f)};return d});